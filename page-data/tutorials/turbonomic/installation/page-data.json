{"componentChunkName":"component---src-pages-tutorials-turbonomic-installation-index-mdx","path":"/tutorials/turbonomic/installation/","result":{"pageContext":{"frontmatter":{"title":"2 - Turbonomic Server Installation","description":"Operator Based Installation of Turbonomic on OpenShift"},"relativePagePath":"/tutorials/turbonomic/installation/index.mdx","titleType":"page","MdxNode":{"id":"5b2b4866-674a-508f-b435-36f21bb5279c","children":[],"parent":"28d36ddf-7395-5ac2-9469-57e1d2bf7ef3","internal":{"content":"---\r\ntitle: 2 - Turbonomic Server Installation\r\ndescription: Operator Based Installation of Turbonomic on OpenShift\r\n---\r\n\r\n<AnchorLinks>\r\n  <AnchorLink>2-1: Introduction</AnchorLink>\r\n  <AnchorLink>2-2: Prerequisites</AnchorLink>\r\n  <AnchorLink>2-3: Deploy the Operator</AnchorLink>\r\n  <AnchorLink>\r\n    2-4: Configure the Turbonomic Instance: Custom Resource\r\n  </AnchorLink>\r\n  <AnchorLink>2-5: Launch the Turbonomic User Interface</AnchorLink>\r\n  <AnchorLink>2-6: License Configuration</AnchorLink>\r\n  <AnchorLink>2-7: Summary</AnchorLink>\r\n</AnchorLinks>\r\n\r\n## 2-1: Introduction\r\n\r\nInstalling Turbonomic platform in your OpenShift cluster:\r\n\r\n![](images/overview-1.png)\r\n\r\nThe <a href=\"https://github.com/turbonomic/t8c-install/wiki\" target=\"_blank\">t8c-install</a> repository\r\ncontains information about installation methods, sizing, architecture and more.\r\n\r\nThe instructions in this lab are streamlined and contextual versions of the\r\ninformation from the above repository, designed to get up and running quickly\r\nand build out a lab or demo environment in OpenShift running in IBM Cloud.\r\n\r\n---\r\n\r\n## 2-2: Prerequisites\r\n\r\n> **Important:** Perform this installation procedure from your **control** node\r\n> as the **jammer** user.\r\n\r\n1. Login into the OpenShift Console UI (`manage-from` cluster) and get your login token:\r\n\r\n   - From the OpenShift console, click your username in the top-right.\r\n   - Select the _Copy login command_ menu item.\r\n   - From the new tab that opens, copy the login command from the\r\n     **Log in with this token** section.\r\n   - Paste the copied command into your SSH terminal on your control node and\r\n     press enter to login.\r\n\r\n   Validate you are logged into the correct cluster - you should see **6 nodes**:\r\n\r\n   ```sh\r\n   oc get nodes\r\n   ```\r\n\r\n1. From your command prompt, issue the following command to create the namespace:\r\n\r\n   ```sh\r\n   export NS=turbonomic\r\n   oc create namespace ${NS}\r\n   ```\r\n\r\n1. The Turbonomic application will create PVs. To have the services access their PVs, we will use the UID value of the `sa.scc.uid-range` of the project:\r\n\r\n   ```sh\r\n   export FSGROUP=$(\r\n       oc get ns ${NS} -o yaml | \\\r\n       grep uid-range | \\\r\n       awk '{print $2}' | \\\r\n       awk -F '/' '{print $1}'\r\n   )\r\n   ```\r\n\r\n1. Create the Custom Resource Definition (CRD) to allow Turbo operator to deploy all the necessary resources\r\n\r\n   - For Kubernetes version 1.22 and higher (To check the Kubernetes version, you can run `oc version` command):\r\n\r\n     ```sh\r\n     oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/config/crd/bases/charts.helm.k8s.io_xls.yaml\r\n     ```\r\n\r\nYou are now ready to deploy the operator\r\n\r\n---\r\n\r\n## 2-3: Deploy the Operator\r\n\r\n1. Create the operator service account:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/service_account.yaml -n ${NS}\r\n   ```\r\n\r\n1. Create the cluster role:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/cluster_role.yaml -n ${NS}\r\n   ```\r\n\r\n1. Create the role binding:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/cluster_role_binding.yaml -n ${NS}\r\n   ```\r\n\r\n1. Launch the operator pod:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/operator.yaml -n ${NS}\r\n   ```\r\n\r\n1. Wait for the operator to become available (status = running with 1/1 ready). Check the status using:\r\n\r\n   ```sh\r\n   oc get pods -n ${NS} -w\r\n   ```\r\n\r\n   Example output:\r\n\r\n   ```\r\n   NAME                           READY   STATUS    RESTARTS   AGE\r\n   t8c-operator-fdd8b8c94-dhrt4   1/1     Running   0          72s\r\n   ```\r\n\r\n   > **Note:** Type `Ctrl-C` to exit the watch loop.\r\n\r\nNext, we are going to configure the Turbonomic instance.\r\n\r\n---\r\n\r\n## 2-4: Configure the Turbonomic Instance: Custom Resource\r\n\r\n1. Set the storage class:\r\n\r\n   ```sh\r\n   export STORAGE_CLASS=ibmc-block-gold\r\n   ```\r\n\r\n   > **Note:** The lab instructions assume you using [Red Hat OpenShift on IBM Cloud](https://cloud.ibm.com/docs/openshift?topic=openshift-getting-started).\r\n   > For other OpenShift environments, use `oc get storageclass` to select a storage class that is available in your environment.\r\n\r\n1. Apply a custom resource file to launch Turbonomic:\r\n\r\n   ```sh\r\n   cat << EOF | oc -n ${NS} apply -f -\r\n   apiVersion: charts.helm.k8s.io/v1\r\n   kind: Xl\r\n   metadata:\r\n     name: xl-release\r\n     namespace: ${NS}\r\n   spec:\r\n     global:\r\n       customImageNames: false\r\n       repository: registry.connect.redhat.com/turbonomic\r\n       securityContext:\r\n         fsGroup: ${FSGROUP}\r\n       storageClassName: ${STORAGE_CLASS}\r\n       storageSelector: false\r\n       tag: 8.4.4\r\n     openshiftingress:\r\n       enabled: true\r\n     kubeturbo:\r\n       enabled: true\r\n     nginx:\r\n       httpsRedirect: false\r\n       nginxIsPrimaryIngress: false\r\n     nginxingress:\r\n       enabled: false\r\n     instana:\r\n       enabled: true\r\n   EOF\r\n   ```\r\n\r\n1. Deployment will begin for all the Turbonomic pods. Depending on the environment, this may take some time to complete, anywhere from 5 to 20 minutes.\r\n   Use the command below to check the status of the deployment.\r\n\r\n   ```sh\r\n   oc get pods -n ${NS} -w\r\n   ```\r\n\r\n   > **Note:** Type `Ctrl-C` to exit the watch loop.\r\n\r\n   Ensure all the pods:\r\n\r\n   - are in a `Running` state (`STATUS` column) and\r\n   - show `1/1` in the `READY` column.\r\n\r\n   **Example output only (Do not copy and paste into your terminal):**\r\n\r\n   ```\r\n   NAME                                   READY   STATUS    RESTARTS      AGE\r\n   action-orchestrator-55bbb96fd8-bxv59   1/1     Running   2 (14m ago)   17m\r\n   api-6d876bd5c8-ntpc9                   1/1     Running   0             17m\r\n   auth-57d95cdc4f-7x7jq                  1/1     Running   0             17m\r\n   clustermgr-5bff4bc746-9fvz4            1/1     Running   2 (14m ago)   17m\r\n   consul-6b979f7d9d-ncb9f                1/1     Running   0             17m\r\n   cost-679689bcb8-9r8h7                  1/1     Running   2 (14m ago)   17m\r\n   db-5547b8bb9c-xjlk8                    1/1     Running   0             17m\r\n   group-7c66b96cd6-jf69l                 1/1     Running   2 (14m ago)   17m\r\n   history-75c89bdcdb-vcsv4               1/1     Running   2 (14m ago)   17m\r\n   kafka-54b458c5ff-25tkp                 1/1     Running   0             17m\r\n   kubeturbo-6b7568cbd-8gdqp              1/1     Running   0             17m\r\n   market-784cd4f9fb-26879                1/1     Running   2 (14m ago)   17m\r\n   plan-orchestrator-5fb588cdc6-wsz4l     1/1     Running   2 (14m ago)   17m\r\n   repository-85bb8b95c4-w85nv            1/1     Running   2 (14m ago)   17m\r\n   rsyslog-64c7fb4467-qcj9v               1/1     Running   0             17m\r\n   t8c-operator-fdd8b8c94-jwwj8           1/1     Running   0             18m\r\n   topology-processor-77f7f95c8-lmpzr     1/1     Running   0             17m\r\n   ui-6d4ff8787d-6zhm4                    1/1     Running   0             17m\r\n   zookeeper-57658f68c6-6qdgb             1/1     Running   0             17m\r\n   ```\r\n\r\n---\r\n\r\n## 2-5: Launch the Turbonomic User interface\r\n\r\nYou are now ready to open a browser and login to the Turbonomic user interface.\r\n\r\n1. Get the Turbonomic UI route after the deployment completes:\r\n\r\n   ```sh\r\n   oc get route -n ${NS} | grep api | awk '{print $2}'\r\n   ```\r\n\r\n1. Open the Turbonomic UI in your browser using the URL retrieved from the previous step.\r\n\r\n1. The first time you log in to Turbonomic, you will be prompted to create a password for the `administrator` user:\r\n\r\n   ![](images/firstTimeLogin.png)\r\n\r\n   - Set this to something secure and memorable.\r\n   - Save the password for future logins.\r\n   - Click on the `Create Account` button.\r\n\r\n---\r\n\r\n## 2-6: License Configuration\r\n\r\nOnce logged in, the setup wizard will prompt you to import the license key:\r\n\r\n![](images/license1.png)\r\n\r\n> **Note:**\r\n>\r\n> - If attending a scheduled Tech Jam, your lab proctors will provide you the\r\n>   license file.\r\n> - If following these instructions offline outside a scheduled Tech Jam, the\r\n>   license file can be found within your downloaded software archive.\r\n\r\n1. Click on `LET'S GO` button.\r\n\r\n1. Click on `IMPORT LICENSE` button and drag the license file provided by your lab proctors into `Enter License` box.\r\n\r\n1. Then click on `Save` button. You will see the page below if it's successful:\r\n\r\n   ![](images/license2.png)\r\n\r\n---\r\n\r\n## 2-7: Summary\r\n\r\nIn this portion of the lab, you have learned how to install Turbonomic on\r\nOpenShift.\r\n\r\nNavigate to the next section to integrate Instana for application performance\r\ndata ingestion and start assuring the performance of your critical business\r\napplications.\r\n\r\n---\r\n","type":"Mdx","contentDigest":"21e320898fdb2ab4dd52e5920a0d6fd7","owner":"gatsby-plugin-mdx","counter":1063},"frontmatter":{"title":"2 - Turbonomic Server Installation","description":"Operator Based Installation of Turbonomic on OpenShift"},"exports":{},"rawBody":"---\r\ntitle: 2 - Turbonomic Server Installation\r\ndescription: Operator Based Installation of Turbonomic on OpenShift\r\n---\r\n\r\n<AnchorLinks>\r\n  <AnchorLink>2-1: Introduction</AnchorLink>\r\n  <AnchorLink>2-2: Prerequisites</AnchorLink>\r\n  <AnchorLink>2-3: Deploy the Operator</AnchorLink>\r\n  <AnchorLink>\r\n    2-4: Configure the Turbonomic Instance: Custom Resource\r\n  </AnchorLink>\r\n  <AnchorLink>2-5: Launch the Turbonomic User Interface</AnchorLink>\r\n  <AnchorLink>2-6: License Configuration</AnchorLink>\r\n  <AnchorLink>2-7: Summary</AnchorLink>\r\n</AnchorLinks>\r\n\r\n## 2-1: Introduction\r\n\r\nInstalling Turbonomic platform in your OpenShift cluster:\r\n\r\n![](images/overview-1.png)\r\n\r\nThe <a href=\"https://github.com/turbonomic/t8c-install/wiki\" target=\"_blank\">t8c-install</a> repository\r\ncontains information about installation methods, sizing, architecture and more.\r\n\r\nThe instructions in this lab are streamlined and contextual versions of the\r\ninformation from the above repository, designed to get up and running quickly\r\nand build out a lab or demo environment in OpenShift running in IBM Cloud.\r\n\r\n---\r\n\r\n## 2-2: Prerequisites\r\n\r\n> **Important:** Perform this installation procedure from your **control** node\r\n> as the **jammer** user.\r\n\r\n1. Login into the OpenShift Console UI (`manage-from` cluster) and get your login token:\r\n\r\n   - From the OpenShift console, click your username in the top-right.\r\n   - Select the _Copy login command_ menu item.\r\n   - From the new tab that opens, copy the login command from the\r\n     **Log in with this token** section.\r\n   - Paste the copied command into your SSH terminal on your control node and\r\n     press enter to login.\r\n\r\n   Validate you are logged into the correct cluster - you should see **6 nodes**:\r\n\r\n   ```sh\r\n   oc get nodes\r\n   ```\r\n\r\n1. From your command prompt, issue the following command to create the namespace:\r\n\r\n   ```sh\r\n   export NS=turbonomic\r\n   oc create namespace ${NS}\r\n   ```\r\n\r\n1. The Turbonomic application will create PVs. To have the services access their PVs, we will use the UID value of the `sa.scc.uid-range` of the project:\r\n\r\n   ```sh\r\n   export FSGROUP=$(\r\n       oc get ns ${NS} -o yaml | \\\r\n       grep uid-range | \\\r\n       awk '{print $2}' | \\\r\n       awk -F '/' '{print $1}'\r\n   )\r\n   ```\r\n\r\n1. Create the Custom Resource Definition (CRD) to allow Turbo operator to deploy all the necessary resources\r\n\r\n   - For Kubernetes version 1.22 and higher (To check the Kubernetes version, you can run `oc version` command):\r\n\r\n     ```sh\r\n     oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/config/crd/bases/charts.helm.k8s.io_xls.yaml\r\n     ```\r\n\r\nYou are now ready to deploy the operator\r\n\r\n---\r\n\r\n## 2-3: Deploy the Operator\r\n\r\n1. Create the operator service account:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/service_account.yaml -n ${NS}\r\n   ```\r\n\r\n1. Create the cluster role:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/cluster_role.yaml -n ${NS}\r\n   ```\r\n\r\n1. Create the role binding:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/cluster_role_binding.yaml -n ${NS}\r\n   ```\r\n\r\n1. Launch the operator pod:\r\n\r\n   ```sh\r\n   oc create -f https://raw.githubusercontent.com/turbonomic/t8c-install/master/operator/deploy/operator.yaml -n ${NS}\r\n   ```\r\n\r\n1. Wait for the operator to become available (status = running with 1/1 ready). Check the status using:\r\n\r\n   ```sh\r\n   oc get pods -n ${NS} -w\r\n   ```\r\n\r\n   Example output:\r\n\r\n   ```\r\n   NAME                           READY   STATUS    RESTARTS   AGE\r\n   t8c-operator-fdd8b8c94-dhrt4   1/1     Running   0          72s\r\n   ```\r\n\r\n   > **Note:** Type `Ctrl-C` to exit the watch loop.\r\n\r\nNext, we are going to configure the Turbonomic instance.\r\n\r\n---\r\n\r\n## 2-4: Configure the Turbonomic Instance: Custom Resource\r\n\r\n1. Set the storage class:\r\n\r\n   ```sh\r\n   export STORAGE_CLASS=ibmc-block-gold\r\n   ```\r\n\r\n   > **Note:** The lab instructions assume you using [Red Hat OpenShift on IBM Cloud](https://cloud.ibm.com/docs/openshift?topic=openshift-getting-started).\r\n   > For other OpenShift environments, use `oc get storageclass` to select a storage class that is available in your environment.\r\n\r\n1. Apply a custom resource file to launch Turbonomic:\r\n\r\n   ```sh\r\n   cat << EOF | oc -n ${NS} apply -f -\r\n   apiVersion: charts.helm.k8s.io/v1\r\n   kind: Xl\r\n   metadata:\r\n     name: xl-release\r\n     namespace: ${NS}\r\n   spec:\r\n     global:\r\n       customImageNames: false\r\n       repository: registry.connect.redhat.com/turbonomic\r\n       securityContext:\r\n         fsGroup: ${FSGROUP}\r\n       storageClassName: ${STORAGE_CLASS}\r\n       storageSelector: false\r\n       tag: 8.4.4\r\n     openshiftingress:\r\n       enabled: true\r\n     kubeturbo:\r\n       enabled: true\r\n     nginx:\r\n       httpsRedirect: false\r\n       nginxIsPrimaryIngress: false\r\n     nginxingress:\r\n       enabled: false\r\n     instana:\r\n       enabled: true\r\n   EOF\r\n   ```\r\n\r\n1. Deployment will begin for all the Turbonomic pods. Depending on the environment, this may take some time to complete, anywhere from 5 to 20 minutes.\r\n   Use the command below to check the status of the deployment.\r\n\r\n   ```sh\r\n   oc get pods -n ${NS} -w\r\n   ```\r\n\r\n   > **Note:** Type `Ctrl-C` to exit the watch loop.\r\n\r\n   Ensure all the pods:\r\n\r\n   - are in a `Running` state (`STATUS` column) and\r\n   - show `1/1` in the `READY` column.\r\n\r\n   **Example output only (Do not copy and paste into your terminal):**\r\n\r\n   ```\r\n   NAME                                   READY   STATUS    RESTARTS      AGE\r\n   action-orchestrator-55bbb96fd8-bxv59   1/1     Running   2 (14m ago)   17m\r\n   api-6d876bd5c8-ntpc9                   1/1     Running   0             17m\r\n   auth-57d95cdc4f-7x7jq                  1/1     Running   0             17m\r\n   clustermgr-5bff4bc746-9fvz4            1/1     Running   2 (14m ago)   17m\r\n   consul-6b979f7d9d-ncb9f                1/1     Running   0             17m\r\n   cost-679689bcb8-9r8h7                  1/1     Running   2 (14m ago)   17m\r\n   db-5547b8bb9c-xjlk8                    1/1     Running   0             17m\r\n   group-7c66b96cd6-jf69l                 1/1     Running   2 (14m ago)   17m\r\n   history-75c89bdcdb-vcsv4               1/1     Running   2 (14m ago)   17m\r\n   kafka-54b458c5ff-25tkp                 1/1     Running   0             17m\r\n   kubeturbo-6b7568cbd-8gdqp              1/1     Running   0             17m\r\n   market-784cd4f9fb-26879                1/1     Running   2 (14m ago)   17m\r\n   plan-orchestrator-5fb588cdc6-wsz4l     1/1     Running   2 (14m ago)   17m\r\n   repository-85bb8b95c4-w85nv            1/1     Running   2 (14m ago)   17m\r\n   rsyslog-64c7fb4467-qcj9v               1/1     Running   0             17m\r\n   t8c-operator-fdd8b8c94-jwwj8           1/1     Running   0             18m\r\n   topology-processor-77f7f95c8-lmpzr     1/1     Running   0             17m\r\n   ui-6d4ff8787d-6zhm4                    1/1     Running   0             17m\r\n   zookeeper-57658f68c6-6qdgb             1/1     Running   0             17m\r\n   ```\r\n\r\n---\r\n\r\n## 2-5: Launch the Turbonomic User interface\r\n\r\nYou are now ready to open a browser and login to the Turbonomic user interface.\r\n\r\n1. Get the Turbonomic UI route after the deployment completes:\r\n\r\n   ```sh\r\n   oc get route -n ${NS} | grep api | awk '{print $2}'\r\n   ```\r\n\r\n1. Open the Turbonomic UI in your browser using the URL retrieved from the previous step.\r\n\r\n1. The first time you log in to Turbonomic, you will be prompted to create a password for the `administrator` user:\r\n\r\n   ![](images/firstTimeLogin.png)\r\n\r\n   - Set this to something secure and memorable.\r\n   - Save the password for future logins.\r\n   - Click on the `Create Account` button.\r\n\r\n---\r\n\r\n## 2-6: License Configuration\r\n\r\nOnce logged in, the setup wizard will prompt you to import the license key:\r\n\r\n![](images/license1.png)\r\n\r\n> **Note:**\r\n>\r\n> - If attending a scheduled Tech Jam, your lab proctors will provide you the\r\n>   license file.\r\n> - If following these instructions offline outside a scheduled Tech Jam, the\r\n>   license file can be found within your downloaded software archive.\r\n\r\n1. Click on `LET'S GO` button.\r\n\r\n1. Click on `IMPORT LICENSE` button and drag the license file provided by your lab proctors into `Enter License` box.\r\n\r\n1. Then click on `Save` button. You will see the page below if it's successful:\r\n\r\n   ![](images/license2.png)\r\n\r\n---\r\n\r\n## 2-7: Summary\r\n\r\nIn this portion of the lab, you have learned how to install Turbonomic on\r\nOpenShift.\r\n\r\nNavigate to the next section to integrate Instana for application performance\r\ndata ingestion and start assuring the performance of your critical business\r\napplications.\r\n\r\n---\r\n","fileAbsolutePath":"C:/Users/103537778/git/waiops-tech-jam/src/pages/tutorials/turbonomic/installation/index.mdx"}}},"staticQueryHashes":["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}