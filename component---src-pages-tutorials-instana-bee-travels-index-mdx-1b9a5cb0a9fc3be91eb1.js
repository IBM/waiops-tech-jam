"use strict";(self.webpackChunktech_academy_aiops_2022=self.webpackChunktech_academy_aiops_2022||[]).push([[3389,1532],{3624:function(e,t,a){a.d(t,{Z:function(){return w}});var n=a(7294),i=a(8650),s=a.n(i),r=a(1597),o=a(4799),l=a(3448),p=a(5900),c=a.n(p),g=function(e){var t,a=e.title,i=e.theme,s=e.tabs,r=void 0===s?[]:s;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=r.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===i,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},m=function(e){var t=e.relativePagePath,a=e.repository,i=(0,r.useStaticQuery)("1364590287").site.siteMetadata.repository,s=a||i,o=s.baseUrl,l=s.subDirectory,p=o+"/edit/"+s.branch+l+"/src/pages"+t;return o?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:p},"Edit this page on GitHub"))):null},d=a(4703),u=a(1721),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,i=e.slug,o=i.split("/").filter(Boolean).slice(-1)[0],l=a.map((function(e){var t,a=s()(e,{lower:!0,strict:!0}),l=a===o,p=new RegExp(o+"/?(#.*)?$"),g=i.replace(p,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--aBB0K"]=l,t),"PageTabs-module--list-item--024o6")},n.createElement(r.Link,{className:"PageTabs-module--link--Kz-7R",to:""+g},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},l))))))},t}(n.Component),A=h,b=a(7296),k=a(5387),f=a(3732),y=function(e){var t=e.date,a=new Date(t);return t?n.createElement(f.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(f.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},w=function(e){var t=e.pageContext,a=e.children,i=e.location,p=e.Title,c=t.frontmatter,u=void 0===c?{}:c,h=t.relativePagePath,f=t.titleType,w=u.tabs,N=u.title,v=u.theme,E=u.description,x=u.keywords,B=u.date,T=(0,k.Z)().interiorTheme,I=(0,r.useStaticQuery)("2456312558").site.pathPrefix,R=I?i.pathname.replace(I,""):i.pathname,S=w?R.split("/").filter(Boolean).slice(-1)[0]||s()(w[0],{lower:!0}):"",U=v||T;return n.createElement(l.Z,{tabs:w,homepage:!1,theme:U,pageTitle:N,pageDescription:E,pageKeywords:x,titleType:f},n.createElement(g,{title:p?n.createElement(p,null):N,label:"label",tabs:w,theme:U}),w&&n.createElement(A,{title:N,slug:R,tabs:w,currentTab:S}),n.createElement(b.Z,{padded:!0},a,n.createElement(m,{relativePagePath:h}),n.createElement(y,{date:B})),n.createElement(d.Z,{pageContext:t,location:i,slug:R,tabs:w,currentTab:S}),n.createElement(o.Z,null))}},1803:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return d}});var n=a(3366),i=(a(7294),a(4983)),s=a(3624),r=["components"],o={},l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)}},p=l("AnchorLinks"),c=l("AnchorLink"),g={_frontmatter:o},m=s.Z;function d(e){var t=e.components,a=(0,n.Z)(e,r);return(0,i.kt)(m,Object.assign({},g,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(p,{mdxType:"AnchorLinks"},(0,i.kt)(c,{mdxType:"AnchorLink"},"3-1: Introduction"),(0,i.kt)(c,{mdxType:"AnchorLink"},"3-2: Create Website Within Instana"),(0,i.kt)(c,{mdxType:"AnchorLink"},"3-3: Install Bee Travels"),(0,i.kt)(c,{mdxType:"AnchorLink"},"3-4: Automated Load"),(0,i.kt)(c,{mdxType:"AnchorLink"},"3-5: Summary")),(0,i.kt)("hr",null),(0,i.kt)("h2",null,"3-1:  Introduction"),(0,i.kt)("p",null,"In this portion of the lab, you will be installing the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," application.   ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," is a microservices based travel agency application that runs in OpenShift.  As part of the installation, you will learn how to add ",(0,i.kt)("strong",{parentName:"p"},"Website Monitoring")," into the application.  This will add javascript injection into the web pages so that you can capture ",(0,i.kt)("strong",{parentName:"p"},"End User Experience (EUM)")," / ",(0,i.kt)("strong",{parentName:"p"},"Real User Monitoring (RUM)")," data from the end users that are accessing the web pages."),(0,i.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"608px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.45833333333333%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQY03WOT0/CQBDF+8H9DF49ciOcPBpvRoxGrI0iEvTS1C3t0t1tC+kO3e2fHbMtEgj48stkMvNeZhw8ltmWOHu8IdOh/+pN3Lv7MWPczo3BEzkHObuuthWfD6Zfl+8pmXkv3uQhDL4ZDbSSZ8IGsaftwj7kF+4I18+I5fhtNbpdDK7dq+GT+xli59n7zdHlTqqpgoL3n/gMPwguYpzHmGz2zx1cLrWRyoBG0Cg1lhqbGkG1oEzdtH9qdNUWyjp7itLoGp0g3oQRIxEPqQhjQSJOIv6zZEuasgySdAfLQOQ70hySVCZ57awyRQXEXFJuq20ERKygAvha/0eS6Vy2vwF/iydc1DDFAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"bee travels",title:"bee travels",src:"/static/0fa2bc4a6bc03abcb4aa5e21eb9d9903/1b824/bee-travels.png",srcSet:["/static/0fa2bc4a6bc03abcb4aa5e21eb9d9903/7fc1e/bee-travels.png 288w","/static/0fa2bc4a6bc03abcb4aa5e21eb9d9903/a5df1/bee-travels.png 576w","/static/0fa2bc4a6bc03abcb4aa5e21eb9d9903/1b824/bee-travels.png 608w"],sizes:"(max-width: 608px) 100vw, 608px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," GitHub repository that you will be using was cloned from the official GitHub location that can be found here:  ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bee-travels"},"https://github.com/bee-travels"),".  You’ll find additional information about ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," at that site.  The application was modified slightly to work in the environment where your application will be installed."),(0,i.kt)("hr",null),(0,i.kt)("h2",null,"3-2:  Create Website Within Instana"),(0,i.kt)("p",null,"If you want to capture EUM/RUM data within Instana, you must first create a website within the GUI (or via API).  Open the Instana GUI within your browser. "),(0,i.kt)("p",null,"On left side navigation, select ",(0,i.kt)("strong",{parentName:"p"},"Websites & Mobile Apps"),". You’ll see a dialog where you can entire a Website Name.  Enter ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," as the website name.  Then, click the ",(0,i.kt)("strong",{parentName:"p"},"Add Website")," button."),(0,i.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.90277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVQY042Oy0oDQRBF+zPE/IIrRUGICoIL/znf4MKFuFAISnDeM5muruqux7RMEhU34uVSnFocuO74bPm6fm+7oWq6sm6Roqix6H/qLm/vN0UFRFsPEIKqmpmaqc7377iTq7u3sg4sSBFjosREKSZm0cQSE+9LX/D9UkxucXFTNZ3adDB3BcSyqjyAmrHsonoAmcft2R2dLou6FbMfmcVD6PvOjx68JyJEmnchEkUfYISRiDgltzi/LppfMsbEIjnn/qPcPL+M2zCgDiB94ID5Yf24elpNZtOUPwHgf01gClYamAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"addWebsite",title:"addWebsite",src:"/static/9b7a58927bca4938400ef627e98d3920/3cbba/addWebsite.png",srcSet:["/static/9b7a58927bca4938400ef627e98d3920/7fc1e/addWebsite.png 288w","/static/9b7a58927bca4938400ef627e98d3920/a5df1/addWebsite.png 576w","/static/9b7a58927bca4938400ef627e98d3920/3cbba/addWebsite.png 1152w","/static/9b7a58927bca4938400ef627e98d3920/bc533/addWebsite.png 1443w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,i.kt)("p",null,"A dialog containing ",(0,i.kt)("strong",{parentName:"p"},"javascript")," will open.  You can either copy the ",(0,i.kt)("strong",{parentName:"p"},"javascript")," or leave this dialog open so that we can use it later.  The javascript is used for ",(0,i.kt)("strong",{parentName:"p"},"javascript injection")," to gather the EUM/RUM data from the end users that access the Bee Travels application.  This ",(0,i.kt)("strong",{parentName:"p"},"javascript")," must be added to the web pages that make up the application. "),(0,i.kt)("hr",null),(0,i.kt)("h2",null,"3-3:  Install Bee Travels"),(0,i.kt)("p",null,"You will be performing the installation steps from the ",(0,i.kt)("strong",{parentName:"p"},"control node"),".  Within the ",(0,i.kt)("strong",{parentName:"p"},"control node")," change directory to /media or another directory where you can download the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," application."),(0,i.kt)("p",null,"You will need to perform some of the steps in these instructions as root.  Type the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo su -\n\n")),(0,i.kt)("p",null,"Within the /media directory, clone the GitHub repository by typing:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/IBM/instana-openshift.git\n\n")),(0,i.kt)("p",null,"This will create a directory within the /media directory named ",(0,i.kt)("strong",{parentName:"p"},"instana-openshift"),".  Change directory to ",(0,i.kt)("strong",{parentName:"p"},"instana-openshift")," directory:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd instana-openshift\n\n")),(0,i.kt)("p",null,"Next, you will add the ",(0,i.kt)("strong",{parentName:"p"},"javascript")," to the web pages so that the application can capture the EUM/RUM data.  You will be editing the index.html file that is used for the front end of the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," applicdation."),(0,i.kt)("p",null,"Use vi to edit /media/instana-openshift/src/services/ui/frontend/public/index.html"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"vi /media/instana-openshift/src/services/ui/frontend/public/index.html\n\n")),(0,i.kt)("p",null,"Within the editor, you will see the following at the top of the HTML file.\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"557px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"24.65277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVQY042MwW7CMBBEd9cBgu11i5I4XgdiRxBBixroBf7/zyq36rl9msNo9DRweZ7lc/bXa5C5RjQAFsATtAr+Jh/j29I8hD86Tq8vx40bjOGKEP7DanO7+fTeh/t8GZaluTsf3KnftT5zyi5FI9mltm6C7oMJezuIDmtmQAQkwnUNSOUIAaiMpAirCpUqIfrOb/8ZlSoeAJgYeZq0iI7RHkabsh0Tn+atiM2T3h90HLah9LrrzJhMLvKK+QtWUA7j18npcAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"index",title:"index",src:"/static/8ae4caee4ee82bce3302738c47e4e7c4/b503f/index.png",srcSet:["/static/8ae4caee4ee82bce3302738c47e4e7c4/7fc1e/index.png 288w","/static/8ae4caee4ee82bce3302738c47e4e7c4/b503f/index.png 557w"],sizes:"(max-width: 557px) 100vw, 557px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"Immediately after ",(0,i.kt)("strong",{parentName:"p"},"<head",">"),", add the ",(0,i.kt)("strong",{parentName:"p"},"javascript")," that was copied from the Instana UI.  If you don’t have the ",(0,i.kt)("strong",{parentName:"p"},"javascript")," copied, go back into the Instana UI and copy the block of ",(0,i.kt)("strong",{parentName:"p"},"javascript"),"."),(0,i.kt)("p",null,"Then, paste the ",(0,i.kt)("strong",{parentName:"p"},"javascript")," block immediately after ",(0,i.kt)("strong",{parentName:"p"},"<head",">")),(0,i.kt)("p",null,"The section should now look as follows, keeping in mind that some of your javascript will be slightly different to match your Instana server."),(0,i.kt)("p",null,"Save the file in ",(0,i.kt)("strong",{parentName:"p"},"vi")," by typing ",(0,i.kt)("strong",{parentName:"p"},":wq"),"."),(0,i.kt)("p",null,"Next, you will be setting up a secure route to access the registry.  "),(0,i.kt)("p",null,"First, confirm that the ",(0,i.kt)("strong",{parentName:"p"},"image-registry")," service exists.  Type:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc get svc -n openshift-image-registry\n")),(0,i.kt)("p",null,"You should see output similar to this:\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"709px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"10.416666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbklEQVQI1zXBUQoCIRAA0EEIFoTBWB2lGZEJzVX68qPPpQN0//MEQe/Ba/RDbi2GcHW796pKRMw856y1MvMYQ0RijK21lFIpxf8YY+DzPM7H/a2sYb9sW86ScyYiEUFEa23vHQBUda3lnENE+PsCLPgL1BfTIzoAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"imageRegistry",title:"imageRegistry",src:"/static/76ff1fe1c49e47c04300725668df737e/b4558/imageRegistry.png",srcSet:["/static/76ff1fe1c49e47c04300725668df737e/7fc1e/imageRegistry.png 288w","/static/76ff1fe1c49e47c04300725668df737e/a5df1/imageRegistry.png 576w","/static/76ff1fe1c49e47c04300725668df737e/b4558/imageRegistry.png 709w"],sizes:"(max-width: 709px) 100vw, 709px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"Now, create a secured route for the ",(0,i.kt)("strong",{parentName:"p"},"image-registry"),".   This route uses reencrypt TLS termination.  Type the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc create route reencrypt --service=image-registry -n openshift-image-registry\n\n")),(0,i.kt)("p",null,"You should see results similar to this:\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"700px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"9.375%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAS0lEQVQI133GMQrAMAgAQIlEB6fYoISQgmT1/+8rpHTtTQeZGRF773VExP3pvbfWzOyNiLi7HtcBYwxVdfc5ZymFmWutiEhEiAi/HnffBzmM5ZdSAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"secureRoute",title:"secureRoute",src:"/static/f465b7a98069cf143bafddea7b679226/f847a/secureRoute.png",srcSet:["/static/f465b7a98069cf143bafddea7b679226/7fc1e/secureRoute.png 288w","/static/f465b7a98069cf143bafddea7b679226/a5df1/secureRoute.png 576w","/static/f465b7a98069cf143bafddea7b679226/f847a/secureRoute.png 700w"],sizes:"(max-width: 700px) 100vw, 700px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"Next, retrieve the ",(0,i.kt)("strong",{parentName:"p"},"hostname")," and ",(0,i.kt)("strong",{parentName:"p"},"port")," that were assigned to the ",(0,i.kt)("strong",{parentName:"p"},"image-registry")," route.  Run the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc get route image-registry -n openshift-image-registry\n\n")),(0,i.kt)("p",null,"You will see an output similar to what’s shown below.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"3.819444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARklEQVQI12PQlxD5byQl9t9QRuK/kwDH/xBuhv9BPAz/g3kgNAobKhfIw/A/jIfhvxkn438uXt7/oqKi/3l4eP7z8/P/BwAzpxpsdhSAAgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"host",title:"host",src:"/static/d15b64e70851c407f38c440582f0a27b/3cbba/host.png",srcSet:["/static/d15b64e70851c407f38c440582f0a27b/7fc1e/host.png 288w","/static/d15b64e70851c407f38c440582f0a27b/a5df1/host.png 576w","/static/d15b64e70851c407f38c440582f0a27b/3cbba/host.png 1152w","/static/d15b64e70851c407f38c440582f0a27b/4dbac/host.png 1560w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"In this example, there is no port number because it is using the HTTPS port."),(0,i.kt)("p",null,"Copy the hostname into your clipboard."),(0,i.kt)("p",null,"We will now set a ",(0,i.kt)("strong",{parentName:"p"},"HOST")," environment variable to match the ",(0,i.kt)("strong",{parentName:"p"},"Host")," and ",(0,i.kt)("strong",{parentName:"p"},"Port")," retieved in the previous step.  Type the following command, but replace <hostname",">"," with the hostname that you copied to your clipboard."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"export HOST=<hostname>\n")),(0,i.kt)("p",null,"Example:  ",(0,i.kt)("strong",{parentName:"p"},"export HOST=image-registry-openshift-image-registry.<cluster domain",">")),(0,i.kt)("p",null,"Next, login to the internal docker registry by typing:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"docker login -u $(oc whoami) -p $(oc whoami -t) $HOST\n\n")),(0,i.kt)("p",null,"The output should show that the login succeeded.\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"799px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"15.277777777777777%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVQI12XLywrDIBCF4bgKmBlvjRXF8R4KcdO+/8sVEuim3+LnbM4yz7P3RjGOMUopMUYiyjnfu7XWe/feG2P2fUdEY4xSSmuNiMtrTsol5jKOo9WaUqq19gsRhRCcc9ZaAFj+vb2d4flJ4SFQKi2FkFKqixACALZt45yv6/q7MMbufgFGiw36HyxoagAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"dockerLogin",title:"dockerLogin",src:"/static/7a4067c89c881a9745235b03b4f683bc/a0ef4/dockerLogin.png",srcSet:["/static/7a4067c89c881a9745235b03b4f683bc/7fc1e/dockerLogin.png 288w","/static/7a4067c89c881a9745235b03b4f683bc/a5df1/dockerLogin.png 576w","/static/7a4067c89c881a9745235b03b4f683bc/a0ef4/dockerLogin.png 799w"],sizes:"(max-width: 799px) 100vw, 799px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"The installation script requires ",(0,i.kt)("strong",{parentName:"p"},"yarn")," to be installed.  Install yarn by typing:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npm install --global yarn\n\n")),(0,i.kt)("p",null,"Next, you will run a script that will build and deploy the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," application.  Run the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"./build-and-deploy.sh -d $HOST\n")),(0,i.kt)("p",null,"You will see a number of steps in the script execute. "),(0,i.kt)("p",null,"You may see the following warning appear on the screen.  You can ignore this warning.\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"391px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"10.763888888888888%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVQI1yWLwQrCMBAFXwuCMZjN7mZT60VMixBLUShV/P8fE+ucBobByHHN9rBUVa4ULuG4ZrsrF6JCofeHWeXV5VnltPkt0kDBnAOA91Cq8CS85DTGUDku2Z5Jz96b23/6btrqrm0BNH+A5rfiC6R0CXEECvAUAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"warning",title:"warning",src:"/static/d622c28191219b13ade460d26a6ccb9c/fe33f/warning.png",srcSet:["/static/d622c28191219b13ade460d26a6ccb9c/7fc1e/warning.png 288w","/static/d622c28191219b13ade460d26a6ccb9c/fe33f/warning.png 391w"],sizes:"(max-width: 391px) 100vw, 391px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"When the script is finished, switch to the bee-travels namespaces and run the ",(0,i.kt)("strong",{parentName:"p"},"oc get pods")," command to confirm that the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," pods are running."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc project bee-travels\noc get pods\n\n")),(0,i.kt)("p",null,"You should see 5 pods running as shown below.\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"518px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"23.61111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY0y2O246FIBRDNw9y8RJEERABRVQw/v//nUyYvrVZTQv7vltrpZRKKa21935d15TSsiwxxhCCMSbGWEoJIWitl2Xx3htjOOewbVvXdYwxIYSUEgDatn3fF2OcUso5933vnLPWEkIAQClVMYQQXNeVcz7PM8Z437dzjlIqpUQI1WQcx2marLVaayEE51wIAVUxxuM4cs7e++/7nHNN02itEUIpped5hBDDMDRNQwhBCM3zXMt/y977UgrnnFLKGMMYU0qVUgBQb0sp27b9pwGstSGEan9xURdNpiFyPgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"pods",title:"pods",src:"/static/a8f9f341f6a4e48ca0d5bc65a77f4c58/d7f6f/pods.png",srcSet:["/static/a8f9f341f6a4e48ca0d5bc65a77f4c58/7fc1e/pods.png 288w","/static/a8f9f341f6a4e48ca0d5bc65a77f4c58/d7f6f/pods.png 518w"],sizes:"(max-width: 518px) 100vw, 518px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"If the pods have not all started, wait a minute or two and run the ",(0,i.kt)("strong",{parentName:"p"},"oc get pods")," command again."),(0,i.kt)("p",null,"If you notice one of the pods in an error state such as CrashLoopBackoff, delete by typing ",(0,i.kt)("strong",{parentName:"p"},"oc delete pod <pod name",">")," where you replace <pod name",">"," with the name of the pod that is not running."),(0,i.kt)("p",null,"Once all of the pods are running, you need to expose a route so that the application is available externally.  Type the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc expose service ui\n\n")),(0,i.kt)("p",null,"This will expose the ",(0,i.kt)("strong",{parentName:"p"},"ui")," service as a route."),(0,i.kt)("p",null,"Type the following command to see the route:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"oc get route\n\n")),(0,i.kt)("p",null,"You will see results similar to this:\n",(0,i.kt)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,i.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"4.861111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAATElEQVQI12OwVFH87yAl8j9BjOt/vATP/3gJ7v/x4tz/Y8W4/ocLMP8P5mb4H8LD8D8YisN5GP4bcTH/Z+fi+s/Pz/+fl5f3PxcSGwBipRrF29pRiAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,i.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"route",title:"route",src:"/static/1fe209f04c5830e45ea5d3bb1d2a5949/3cbba/route.png",srcSet:["/static/1fe209f04c5830e45ea5d3bb1d2a5949/7fc1e/route.png 288w","/static/1fe209f04c5830e45ea5d3bb1d2a5949/a5df1/route.png 576w","/static/1fe209f04c5830e45ea5d3bb1d2a5949/3cbba/route.png 1152w","/static/1fe209f04c5830e45ea5d3bb1d2a5949/25332/route.png 1245w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    ")),(0,i.kt)("p",null,"If desired, you can paste the route into a browser and bring up the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," user interface.  Make sure you specify HTTP.  For example:  ",(0,i.kt)("a",{parentName:"p",href:"http://ui-bee-travels."},"http://ui-bee-travels."),"<cluster domain",">"),(0,i.kt)("p",null,"You have successfully installed the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," application."),(0,i.kt)("hr",null),(0,i.kt)("h2",null,"3-4:  Automated Load"),(0,i.kt)("p",null,"Finally, you can generate some automated workload against the application.  The traffic generation scripts are in the ",(0,i.kt)("strong",{parentName:"p"},"traffic")," directory.  "),(0,i.kt)("p",null,"Change directory to the ",(0,i.kt)("strong",{parentName:"p"},"/media/instana-openshift/traffic")," directory by typing:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd /media/instana-openshift/traffic\n\n")),(0,i.kt)("p",null,"Next, run the npm install command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npm install\n\n")),(0,i.kt)("p",null,"The automated load can’t be run as root.  Switch user to ",(0,i.kt)("strong",{parentName:"p"},"jammer")," by typing ",(0,i.kt)("strong",{parentName:"p"},"exit")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"exit\n\n")),(0,i.kt)("p",null,"Finally, generate traffic by typing:   node traffic.js <NUM_CALLS",">"," <ROUTE",">","\nWHERE:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"NUM_CALLS - refers to how many calls will be made to the Bee Travels application. Each call will make 2 requests to the application. One will be for searching hotels for a random city and the other will be for searching car rentals for the same random city."),(0,i.kt)("li",{parentName:"ul"},"ROUTE - refers to the created route’s location/url from OpenShift. Make sure there is no trailing /")),(0,i.kt)("p",null,"NOTE: Make sure you specify ",(0,i.kt)("strong",{parentName:"p"},"https://")," for the URL. Don’t just past the hostname for your route."),(0,i.kt)("p",null,"Example:  ",(0,i.kt)("strong",{parentName:"p"},"node traffic.js 1000 ",(0,i.kt)("a",{parentName:"strong",href:"https://ui-bee-travels."},"https://ui-bee-travels."),"<cluster domain",">")),(0,i.kt)("p",null,"Leave this window open.  Any time you need to generate traffic to the application, re-run the previous command."),(0,i.kt)("hr",null),(0,i.kt)("h2",null,"3-3:  Summary"),(0,i.kt)("p",null,"In this exercise you have installed the ",(0,i.kt)("strong",{parentName:"p"},"Bee Travels")," application and you have learned out to add the EUM/RUM instrumentation into the webpages of a containerized application.  You also have tools that will generate automated workload against the installed application."),(0,i.kt)("hr",null),(0,i.kt)("p",null,"Proceed to section 4 where you will setup IBM Middleware and monitoring for IBM MQ and IBM App Connect Enterprise (ACE)."))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-tutorials-instana-bee-travels-index-mdx-1b9a5cb0a9fc3be91eb1.js.map