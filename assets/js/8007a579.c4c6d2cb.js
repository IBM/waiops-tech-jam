"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[9054],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>m});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},g=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,m=c["".concat(s,".").concat(d)]||c[d]||u[d]||o;return n?a.createElement(m,i(i({ref:t},g),{},{components:n})):a.createElement(m,i({ref:t},g))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},16139:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(58168),r=(n(96540),n(15680));const o={title:"6. LDAP Integration",description:"Describes how to integrate to an LDAP and define users with roles",sidebar_position:6},i=void 0,l={unversionedId:"cloud-pak-aiops/install-lab/LDAP-integration/index",id:"cloud-pak-aiops/install-lab/LDAP-integration/index",title:"6. LDAP Integration",description:"Describes how to integrate to an LDAP and define users with roles",source:"@site/labs/cloud-pak-aiops/install-lab/6-LDAP-integration/index.mdx",sourceDirName:"cloud-pak-aiops/install-lab/6-LDAP-integration",slug:"/cloud-pak-aiops/install-lab/LDAP-integration/",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/install-lab/LDAP-integration/",draft:!1,editUrl:"https://github.com/IBM/waiops-tech-jam/tree/main/labs/cloud-pak-aiops/install-lab/6-LDAP-integration/index.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"6. LDAP Integration",description:"Describes how to integrate to an LDAP and define users with roles",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"5. Storage, HA and FIPS Considerations",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/install-lab/storage-ha/"},next:{title:"1. Introduction",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/introduction/"}},s={},p=[{value:"6.1: Overview",id:"61-overview",level:2},{value:"6.2: Obtaining Connection parameters",id:"62-obtaining-connection-parameters",level:2},{value:"6.3: Connecting to the LDAP Directory",id:"63-connecting-to-the-ldap-directory",level:2},{value:"6.4: Creating a New User",id:"64-creating-a-new-user",level:2},{value:"6.5: Login as the New User",id:"65-login-as-the-new-user",level:2}],g={toc:p},c="wrapper";function u(e){let{components:t,...o}=e;return(0,r.yg)(c,(0,a.A)({},g,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"61-overview"},"6.1: Overview"),(0,r.yg)("p",null,"In this chapter, we will configure the integration with a Lightweight Directory\nAccess Protocol (LDAP) server that has been preinstalled into our environment to\nmanage access for users and user groups. With an LDAP connection created, we can\nadd users from the LDAP directory to the Cloud Pak for AIOps for accessing the\ndifferent capabilities. When we are adding a user from an LDAP server to the\nproduct, we can search users by their name, email address, or username. The LDAP\nlogin ID for the user is considered to be the username for that user."),(0,r.yg)("p",null,"The following LDAP types are supported:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"IBM Tivoli Directory Server"),(0,r.yg)("li",{parentName:"ul"},"IBM Lotus Domino"),(0,r.yg)("li",{parentName:"ul"},"IBM SecureWay Directory Server"),(0,r.yg)("li",{parentName:"ul"},"Novell eDirectory"),(0,r.yg)("li",{parentName:"ul"},"Sun Java\u2122 System Directory Server"),(0,r.yg)("li",{parentName:"ul"},"Netscape Directory Server"),(0,r.yg)("li",{parentName:"ul"},"Microsoft Active Directory"),(0,r.yg)("li",{parentName:"ul"},"Custom")),(0,r.yg)("h2",{id:"62-obtaining-connection-parameters"},"6.2: Obtaining Connection parameters"),(0,r.yg)("p",null,"From the bastion VM, run the commands listed below to obtain the LDAP connection\ninformation"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},'echo -e "\\n\\n# Password of the LDAP admin" ; oc get secret openldap-admin-secret --template={{.data.password}} -n openldap | base64 --decode ; echo -e "\\n"\necho -e "\\n\\n# Generic Password for all users" ; oc get secret openldap-users-secret --template={{.data.password}} -n openldap | base64 --decode ; echo -e "\\n"\n')),(0,r.yg)("h2",{id:"63-connecting-to-the-ldap-directory"},"6.3: Connecting to the LDAP Directory"),(0,r.yg)("p",null,"We will now setup the integration:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"If you are not already logged-in, log-on to the IBM Cloud Pak for AIOps\nconsole using the admin credentials obtained previously."),(0,r.yg)("li",{parentName:"ul"},"From the navigation menu, click ",(0,r.yg)("strong",{parentName:"li"},"Administration")," > ",(0,r.yg)("strong",{parentName:"li"},"Access control"),"."),(0,r.yg)("li",{parentName:"ul"},"From the Access control page, click ",(0,r.yg)("strong",{parentName:"li"},"Identity provider configuration")," in the\ntop right."),(0,r.yg)("li",{parentName:"ul"},"On the Identity providers page, click ",(0,r.yg)("strong",{parentName:"li"},"New connection"),"."),(0,r.yg)("li",{parentName:"ul"},"On the Identity providers ",(0,r.yg)("strong",{parentName:"li"},"New connection"),' pop-up, select "LDAP" as protocol\ntype and click "Next"')),(0,r.yg)("p",null,'The "LDAP connection" page is displayed as shown below:'),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(46041).A,width:"3344",height:"1982"})),(0,r.yg)("p",null,"Enter the following details to set up the LDAP connection:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Connection name: ",(0,r.yg)("inlineCode",{parentName:"li"},"LDAP")),(0,r.yg)("li",{parentName:"ul"},"Server type: ",(0,r.yg)("inlineCode",{parentName:"li"},"Custom")),(0,r.yg)("li",{parentName:"ul"},"Base DN: ",(0,r.yg)("inlineCode",{parentName:"li"},"dc=ibm,dc=com")),(0,r.yg)("li",{parentName:"ul"},"Bind DN: ",(0,r.yg)("inlineCode",{parentName:"li"},"cn=admin,dc=ibm,dc=com")),(0,r.yg)("li",{parentName:"ul"},"Bind DN password: ",(0,r.yg)("em",{parentName:"li"},"use the LDAP ",(0,r.yg)("strong",{parentName:"em"},"admin")," password from previous step")),(0,r.yg)("li",{parentName:"ul"},"LDAP server URL: ",(0,r.yg)("inlineCode",{parentName:"li"},"ldap://openldap.openldap.svc.cluster.local:389"))),(0,r.yg)("p",null,"Now, click ",(0,r.yg)("em",{parentName:"p"},"Test connection"),". You should get Successful connection."),(0,r.yg)("p",null,"Lets fill out the rest of the fields. Leave the default values for Group filter,\nGroup ID map, User ID map and Group member ID map. Only update the field below:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"User filter: ",(0,r.yg)("inlineCode",{parentName:"li"},"(&(uid=%v)(objectclass=Person))"))),(0,r.yg)("p",null,'Now the "LDAP connection" page should be filled as displayed below:'),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(5629).A,width:"1860",height:"964"})),(0,r.yg)("p",null,"Click the ",(0,r.yg)("strong",{parentName:"p"},"Create")," button."),(0,r.yg)("p",null,"You should get a LDAP entry in the provider list, as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(22256).A,width:"1860",height:"726"})),(0,r.yg)("h2",{id:"64-creating-a-new-user"},"6.4: Creating a New User"),(0,r.yg)("p",null,"We will now create a new Cloud Pak for AIOps user with the role Administrator,\nthat will leverage the LDAP connection we just created."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"From the navigation menu, click ",(0,r.yg)("strong",{parentName:"li"},"Administration")," > ",(0,r.yg)("strong",{parentName:"li"},"Access control"),"."),(0,r.yg)("li",{parentName:"ul"},"From the Access control page under the Users tab, click ",(0,r.yg)("strong",{parentName:"li"},"Add users"),"."),(0,r.yg)("li",{parentName:"ul"},"From the Add users - Profile information page, search for ",(0,r.yg)("strong",{parentName:"li"},"sre")," and select\nthe ",(0,r.yg)("strong",{parentName:"li"},"sre1")," user."),(0,r.yg)("li",{parentName:"ul"},"Click on ",(0,r.yg)("strong",{parentName:"li"},"Next"),"."),(0,r.yg)("li",{parentName:"ul"},"From the Add users - Platform access page, select ",(0,r.yg)("strong",{parentName:"li"},"Assign roles directly"),"."),(0,r.yg)("li",{parentName:"ul"},"Click on ",(0,r.yg)("strong",{parentName:"li"},"Next"),"."),(0,r.yg)("li",{parentName:"ul"},"From the Add users - Roles page, check the ",(0,r.yg)("strong",{parentName:"li"},"Administrator")," role."),(0,r.yg)("li",{parentName:"ul"},"Click on ",(0,r.yg)("strong",{parentName:"li"},"Next"),".")),(0,r.yg)("p",null,"You should see a final Add users - Summary page as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(32817).A,width:"1860",height:"966"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Click on ",(0,r.yg)("strong",{parentName:"li"},"Add"),".")),(0,r.yg)("h2",{id:"65-login-as-the-new-user"},"6.5: Login as the New User"),(0,r.yg)("p",null,"We will now login to the Cloud Pak for AIops as the new user we just created."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"From the top right icon, click on ",(0,r.yg)("strong",{parentName:"p"},"Log out")," and confirm on the pop-up.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Log in")," button, to get back to the Login page.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"From the Cloud Pak for AIOps login page:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"under ",(0,r.yg)("strong",{parentName:"li"},"Log in with")," select ",(0,r.yg)("strong",{parentName:"li"},"Enterprise LDAP"),"."),(0,r.yg)("li",{parentName:"ul"},"under ",(0,r.yg)("strong",{parentName:"li"},"Username"),", type ",(0,r.yg)("inlineCode",{parentName:"li"},"sre1"),"."),(0,r.yg)("li",{parentName:"ul"},"under ",(0,r.yg)("strong",{parentName:"li"},"Password"),", copy/paste the ",(0,r.yg)("em",{parentName:"li"},"generic password for all users")," you\nobtained before. Note that this credential has been pre-stored in the LDAP\nserver.")),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("img",{src:n(98343).A,width:"2160",height:"1090"})),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Finally click on ",(0,r.yg)("strong",{parentName:"li"},"Log in"),".")))),(0,r.yg)("p",null,"You have now logged in as the new ",(0,r.yg)("strong",{parentName:"p"},"sre1")," user with the ",(0,r.yg)("strong",{parentName:"p"},"Administrator")," role.\nYou should see the welcome page as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(404).A,width:"3330",height:"1682"})),(0,r.yg)("p",null,"############################################"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"This concludes the Cloud Pak for AIOps Install Lab")),(0,r.yg)("p",null,"############################################"))}u.isMDXComponent=!0},32817:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/add-user-d1a5c471cf4d19a4783cda49efba8e05.png"},5629:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ldap-complete-28afe287b73fad4d565953b4224a276e.png"},46041:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ldap-empty-71d8607031a28e42abe9fc4f50035cb2.png"},22256:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ldap-list-89ab700181a1631af0d90f7b0105bfc7.png"},98343:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/sre1-login-905098afbebc21bcb508411bd780bee0.png"},404:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/sre1-welcome-69d5ffcd0e77af1940d09b3192c3e240.png"}}]);