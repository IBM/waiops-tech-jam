"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[9915],{15680:(e,t,a)=>{a.d(t,{xA:()=>l,yg:()=>h});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},l=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=p(a),d=r,h=m["".concat(s,".").concat(d)]||m[d]||y[d]||i;return a?n.createElement(h,o(o({ref:t},l),{},{components:a})):n.createElement(h,o({ref:t},l))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[m]="string"==typeof e?e:r,o[1]=c;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},46814:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>y,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var n=a(58168),r=(a(96540),a(15680));const i={title:"6. Temporal Correlation",description:"Temporal Correlation",sidebar_position:6},o=void 0,c={unversionedId:"cloud-pak-aiops/alert-lab/temporal/index",id:"cloud-pak-aiops/alert-lab/temporal/index",title:"6. Temporal Correlation",description:"Temporal Correlation",source:"@site/labs/cloud-pak-aiops/alert-lab/6-temporal/index.mdx",sourceDirName:"cloud-pak-aiops/alert-lab/6-temporal",slug:"/cloud-pak-aiops/alert-lab/temporal/",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/alert-lab/temporal/",draft:!1,editUrl:"https://github.com/IBM/waiops-tech-jam/tree/main/labs/cloud-pak-aiops/alert-lab/6-temporal/index.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"6. Temporal Correlation",description:"Temporal Correlation",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"5. Scope Based Correlation",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/alert-lab/scope-based/"},next:{title:"7. Topological Correlation",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/alert-lab/topological/"}},s={},p=[{value:"6.1: Validate the Absence of Correlation",id:"61-validate-the-absence-of-correlation",level:2},{value:"6.2: Loading Historical Event Data",id:"62-loading-historical-event-data",level:2},{value:"6.3: Running Temporal Training",id:"63-running-temporal-training",level:2},{value:"Configure Temporal Training Model",id:"configure-temporal-training-model",level:3},{value:"Run Temporal Training Model and Create Temporal Policies",id:"run-temporal-training-model-and-create-temporal-policies",level:3},{value:"6.4: Review and Deploy Temporal Policies",id:"64-review-and-deploy-temporal-policies",level:2},{value:"Policy Logic",id:"policy-logic",level:3},{value:"Policy Justification",id:"policy-justification",level:3},{value:"Policy Deployment",id:"policy-deployment",level:3},{value:"6.5: Test the Temporal Policies",id:"65-test-the-temporal-policies",level:2}],l={toc:p},m="wrapper";function y(e){let{components:t,...i}=e;return(0,r.yg)(m,(0,n.A)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Temporal grouping is an unsupervised learning algorithm that groups alerts which\nco-occur over time. When a problem arises, there are typically multiple parts of\na system or environment that are impacted. When alerts in different areas\nco-occur, it makes sense to look at them together and treat them as one problem\nto try and determine what might have happened."),(0,r.yg)("p",null,"Grouping co-occurring alerts together reduces the number of tickets and\nincidents opened and the number of people looking at the same problem. It helps\nto understand the context of an issue so it can be prioritize, triage, and\nresolved more quickly."),(0,r.yg)("p",null,"This AI algorithm can start to discover groups after a pattern is learned. For\nexample, if a problem occurs the first week of January, the fourth week of\nJanuary, and again in March, it will learn the alerts that tend to co-occur when\nthat problem happens."),(0,r.yg)("p",null,"Temporal grouping will generate a set of alert grouping policies that you can\nreview and selectively deploy or they can get all deployed automatically."),(0,r.yg)("h2",{id:"61-validate-the-absence-of-correlation"},"6.1: Validate the Absence of Correlation"),(0,r.yg)("p",null,"First, we will load a set of events to validate that there is no correlation\nfrom the alerts created by these events."),(0,r.yg)("p",null,"Create a new file called ",(0,r.yg)("em",{parentName:"p"},"temp-events-inference.json")," by running the following\ncommand in the Terminal window to open the text editor, ",(0,r.yg)("strong",{parentName:"p"},"copy")," the event data\nbelow, ",(0,r.yg)("strong",{parentName:"p"},"paste")," it into the text editor, click on the ",(0,r.yg)("strong",{parentName:"p"},"Save")," button in the\ntext editor and ",(0,r.yg)("strong",{parentName:"p"},"close")," the editor window (click on the X)."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"gedit temp-events-inference.json\n")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'{ "sender": { "service": "DemoMon", "name": "https://myapp.example.com", "type": "Netcool/OMNIbus" }, "resource": { "name": "https://myapp.example.com", "type": "Service"}, "type": { "classification": "Synthetic test failed:++:Synthetic test", "eventType": "problem" }, "severity": 5, "summary": "Synthetic test failed for >1min on https://myapp.example.com", "occurrenceTime": "2021-09-28T21:41:57.948Z", "expirySeconds": 0}\n{ "sender": { "service": "DemoMon", "name": "front-end-svc.myapp.example.com", "type": "Netcool/OMNIbus" }, "resource": { "name": "front-end-svc.myapp.example.com", "hostname": "front-end-svc.myapp.example.com", "type": "Service"}, "type": { "classification": "High error rate:++:Error rate", "eventType": "problem" }, "severity": 4, "summary": "High error rate on front-end-svc.myapp.example.com", "occurrenceTime": "2021-09-28T21:41:47.948Z", "expirySeconds": 0}\n{ "sender": { "service": "DemoMon", "name": "newsletter-svc.myapp.example.com", "type": "Netcool/OMNIbus" }, "resource": { "name": "newsletter-svc.myapp.example.com", "hostname": "newsletter-svc.myapp.example.com", "type": "Service"}, "type": { "classification": "Error rate high:++:Error rate", "eventType": "problem" }, "severity": 4, "summary": "Newsletter service error rate high", "occurrenceTime": "2021-09-27T21:41:37.948Z", "expirySeconds": 0 }\n{ "sender": { "service": "DemoMon", "name": "newsletters.myapp.example.com", "type": "Netcool/OMNIbus" }, "resource": { "name": "newsletters.myapp.example.com", "hostname": "newsletters.myapp.example.com", "type": "Service"}, "type": { "classification": "Newsletter not received in 5 min:++:Newsletter self test", "eventType": "problem" }, "severity": 3, "summary": "Newsletter test email not received within 5 minutes - emails may not be working", "occurrenceTime": "2021-09-27T21:43:47.948Z", "expirySeconds": 0 }\n')),(0,r.yg)("p",null,"Now lets submit the events via the webhook script created in the previous\nsection by running the following command in the ",(0,r.yg)("strong",{parentName:"p"},"Terminal")," window:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"bash event-load-webhook.sh temp-events-inference.json\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"From the burger menu in the top-left navigate to: ",(0,r.yg)("strong",{parentName:"li"},"Operate \u2192 Alerts")),(0,r.yg)("li",{parentName:"ul"},"Click on the ",(0,r.yg)("strong",{parentName:"li"},"Refresh alerts")," icon on the right")),(0,r.yg)("p",null,"Now we can see that the four alerts are independent from each other and not\ncorrelated. Also, if you click on the ",(0,r.yg)("strong",{parentName:"p"},"View correlation")," icon in the\ntop-right, the ",(0,r.yg)("strong",{parentName:"p"},"Correlation")," column shows no correlation information for these\nalerts."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(95997).A,width:"1861",height:"487"})),(0,r.yg)("p",null,"Lets clear these alerts before we test the temporal correlation. Select all the\nalerts, right-click and select ",(0,r.yg)("strong",{parentName:"p"},"Clear"),". Make sure all four alerts have\n",(0,r.yg)("strong",{parentName:"p"},"Clear")," under the ",(0,r.yg)("strong",{parentName:"p"},"State")," column. Move to the next step in the Lab (don't\nwait), the alerts will disappear after 2-3 minutes."),(0,r.yg)("h2",{id:"62-loading-historical-event-data"},"6.2: Loading Historical Event Data"),(0,r.yg)("p",null,"For the purpose of this Lab, we will manually load historical alerts directly\ninto the Cloud Pak for AIOps historical alerts database. What is unique about\nthis data is that different alerts co-occur about the same time during multiple\ndays. This data characteristic will trigger the creation of alert grouping\npolicies. In a real production deployment, the historical alerts database will\nhave the alerts of the last 90 days that can be used by the temporal training\nalgorithm."),(0,r.yg)("p",null,"Create a new file called ",(0,r.yg)("em",{parentName:"p"},"temp-events-training.json")," by running the following\ncommand in the Terminal window to open the text editor, ",(0,r.yg)("strong",{parentName:"p"},"copy")," the event data\nbelow, ",(0,r.yg)("strong",{parentName:"p"},"paste")," it into the text editor, click on the ",(0,r.yg)("strong",{parentName:"p"},"Save")," button in the\ntext editor and ",(0,r.yg)("strong",{parentName:"p"},"close")," the editor window (click on the X)."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"gedit temp-events-training.json\n")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"d5f5cfca-1415-499e-9e6d-5b9eed2181a0","notificationTime":"2023-08-23T20:41:12.420Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-06-19T23:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-06-19T23:02:59.628Z","lastOccurrenceTime":"2023-06-19T23:02:59.628Z","eventCount":1,"state":"open","id":"83eff4b1-c6f5-4819-8feb-ce4c2d41d652","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"76e5ff14-04ef-440d-a062-035399eb3c83","notificationTime":"2023-08-23T20:41:12.421Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-06-19T23:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-06-19T23:02:49.628Z","lastOccurrenceTime":"2023-06-19T23:02:49.628Z","eventCount":1,"state":"open","id":"e1261cee-28de-4b7e-a3da-238d8d86bac2","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"5e1d2ca0-ec9f-4962-b183-b4114094114e","notificationTime":"2023-08-23T20:41:12.428Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-07-06T01:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-07-06T01:02:59.628Z","lastOccurrenceTime":"2023-07-06T01:02:59.628Z","eventCount":1,"state":"open","id":"51d554bb-a6d5-4afe-9d1e-825a85209fd0","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"d0b49916-9004-4cea-8383-f742b754e603","notificationTime":"2023-08-23T20:41:12.430Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-07-06T01:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-07-06T01:02:49.628Z","lastOccurrenceTime":"2023-07-06T01:02:49.628Z","eventCount":1,"state":"open","id":"e3318d78-b09d-4488-8e1a-237ad93d8641","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"f410f245-3f54-4039-8ece-d3d677ea8f7b","notificationTime":"2023-08-23T20:41:12.432Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-07-20T19:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-07-20T19:02:59.628Z","lastOccurrenceTime":"2023-07-20T19:02:59.628Z","eventCount":1,"state":"open","id":"c744910b-6d72-485f-9ff6-3940eefa3603","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"04bfce26-a681-4b7c-bcf5-5b028f529848","notificationTime":"2023-08-23T20:41:12.434Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-07-20T19:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-07-20T19:02:49.628Z","lastOccurrenceTime":"2023-07-20T19:02:49.628Z","eventCount":1,"state":"open","id":"eac09557-f0c8-42b5-b401-4390a9bab52d","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"991c39bb-486c-4f9b-8362-fc160ad16cf8","notificationTime":"2023-08-23T20:41:12.440Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-08-07T21:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-08-07T21:02:59.628Z","lastOccurrenceTime":"2023-08-07T21:02:59.628Z","eventCount":1,"state":"open","id":"ddf42e30-e3f2-418c-8397-e1c6bf46ae3c","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"56da040d-875b-408b-988f-71a473a37d5b","notificationTime":"2023-08-23T20:41:12.445Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-08-07T21:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-08-07T21:02:49.628Z","lastOccurrenceTime":"2023-08-07T21:02:49.628Z","eventCount":1,"state":"open","id":"30e0a1ea-7c99-4535-8452-8adedbaf2284","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"2b7b6444-1e6b-4082-909e-415ae82047c5","notificationTime":"2023-08-23T20:41:12.450Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-08-17T08:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-08-17T08:02:59.628Z","lastOccurrenceTime":"2023-08-17T08:02:59.628Z","eventCount":1,"state":"open","id":"67f00180-102f-45f6-845a-c97c0820c8b5","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"f6cb14d7-f75a-4baa-8853-36ebdee0759e","notificationTime":"2023-08-23T20:41:12.451Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-08-17T08:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-08-17T08:02:49.628Z","lastOccurrenceTime":"2023-08-17T08:02:49.628Z","eventCount":1,"state":"open","id":"fa7db321-2c3f-46ca-8b5e-0901fdf4b555","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"40b9afb0-5025-4500-853d-97a4b654ee58","notificationTime":"2023-08-23T20:41:12.453Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"https://myapp.example.com->Synthetic test failed","sender":{"service":"DemoMon","name":"https://myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"https://myapp.example.com","type":"Service"},"type":{"classification":"Synthetic test failed:++:Synthetic test","eventType":"problem"},"severity":5,"summary":"Synthetic test failed for >1min on https://myapp.example.com","occurrenceTime":"2023-08-23T01:02:59.628Z","expirySeconds":0,"signature":"{name=https://myapp.example.com, type=Service}-Synthetic test failed:++:Synthetic test-","firstOccurrenceTime":"2023-08-23T01:02:59.628Z","lastOccurrenceTime":"2023-08-23T01:02:59.628Z","eventCount":1,"state":"open","id":"ee31a41f-4747-4e0f-ba8f-d98208e8cd0f","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"6a8ef260-fbe0-414a-8592-9d11ac063968","notificationTime":"2023-08-23T20:41:12.455Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"front-end-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"front-end-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"front-end-svc.myapp.example.com","hostname":"front-end-svc.myapp.example.com","type":"Service"},"type":{"classification":"High error rate:++:Error rate","eventType":"problem"},"severity":4,"summary":"High error rate on front-end-svc.myapp.example.com","occurrenceTime":"2023-08-23T01:02:49.628Z","expirySeconds":0,"signature":"{hostname=front-end-svc.myapp.example.com, name=front-end-svc.myapp.example.com, type=Service}-High error rate:++:Error rate-","firstOccurrenceTime":"2023-08-23T01:02:49.628Z","lastOccurrenceTime":"2023-08-23T01:02:49.628Z","eventCount":1,"state":"open","id":"6fcc3d46-5dc6-49b6-93e4-146f8cdcbbd4","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"d8c7dd0b-ccd3-41f6-8899-370982f87758","notificationTime":"2023-08-23T20:41:12.509Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-06-31T06:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-06-31T06:02:39.630Z","lastOccurrenceTime":"2023-06-31T06:02:39.630Z","eventCount":1,"state":"open","id":"3638b612-40c5-4990-a08d-a4019e9b5437","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"7b73cbdb-be35-4ff7-8369-ce2e8f3d21b2","notificationTime":"2023-08-23T20:41:12.510Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-06-31T06:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-06-31T06:04:49.630Z","lastOccurrenceTime":"2023-06-31T06:04:49.630Z","eventCount":1,"state":"open","id":"b8bf18ad-e5e3-4adb-b8de-30344cdc48f2","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"fea8b84f-70e7-4fa3-b1b3-f308b8498b03","notificationTime":"2023-08-23T20:41:12.512Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-06-18T23:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-06-18T23:02:39.630Z","lastOccurrenceTime":"2023-06-18T23:02:39.630Z","eventCount":1,"state":"open","id":"d145054b-e65a-4e5d-8cbb-b5a7e947700a","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"2d5defa6-ce71-4f1e-a4a9-85be2653de14","notificationTime":"2023-08-23T20:41:12.513Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-06-18T23:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-06-18T23:04:49.630Z","lastOccurrenceTime":"2023-06-18T23:04:49.630Z","eventCount":1,"state":"open","id":"360e2340-73a0-45fe-bd91-33a08767d36a","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"c3036d91-af11-462c-adfc-f6931ec690ed","notificationTime":"2023-08-23T20:41:12.514Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-07-05T01:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-07-05T01:02:39.630Z","lastOccurrenceTime":"2023-07-05T01:02:39.630Z","eventCount":1,"state":"open","id":"987858c0-bac3-4471-93c5-895f46bae987","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"66a83ef5-8c80-4e51-a809-9c98abc6d6dc","notificationTime":"2023-08-23T20:41:12.516Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-07-05T01:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-07-05T01:04:49.630Z","lastOccurrenceTime":"2023-07-05T01:04:49.630Z","eventCount":1,"state":"open","id":"f3306094-ace3-45f2-b8d1-d9be2f1308db","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"386f0a09-b18b-44d3-8b0d-be83443f8e21","notificationTime":"2023-08-23T20:41:12.517Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-07-19T19:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-07-19T19:02:39.630Z","lastOccurrenceTime":"2023-07-19T19:02:39.630Z","eventCount":1,"state":"open","id":"e1ccc6d7-00f6-4288-9550-42ef3ab981c6","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"70d57671-1c66-4603-881f-3609a3b43f48","notificationTime":"2023-08-23T20:41:12.519Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-07-19T19:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-07-19T19:04:49.630Z","lastOccurrenceTime":"2023-07-19T19:04:49.630Z","eventCount":1,"state":"open","id":"d2680e22-a29c-4b2a-81fb-a76341aeadaf","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"dd9c479f-1541-4c9d-8186-ff9153685fb3","notificationTime":"2023-08-23T20:41:12.520Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-08-06T21:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-08-06T21:02:39.630Z","lastOccurrenceTime":"2023-08-06T21:02:39.630Z","eventCount":1,"state":"open","id":"6bea8463-05c6-4699-8058-be0dc622f721","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"e669c9c0-285e-41de-b20f-50c12428454e","notificationTime":"2023-08-23T20:41:12.522Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-08-06T21:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-08-06T21:04:49.630Z","lastOccurrenceTime":"2023-08-06T21:04:49.630Z","eventCount":1,"state":"open","id":"4ce6a583-3004-42f2-bfae-389d76b9917a","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"c8e7b98b-3216-4e6a-9c40-b4790e34837e","notificationTime":"2023-08-23T20:41:12.523Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletter-svc.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletter-svc.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletter-svc.myapp.example.com","hostname":"newsletter-svc.myapp.example.com","type":"Service"},"type":{"classification":"Error rate high:++:Error rate","eventType":"problem"},"severity":4,"summary":"Newsletter service error rate high","occurrenceTime":"2023-08-16T08:02:39.630Z","expirySeconds":0,"signature":"{hostname=newsletter-svc.myapp.example.com, name=newsletter-svc.myapp.example.com, type=Service}-Error rate high:++:Error rate-","firstOccurrenceTime":"2023-08-16T08:02:39.630Z","lastOccurrenceTime":"2023-08-16T08:02:39.630Z","eventCount":1,"state":"open","id":"41559511-19b5-49c3-8c88-18a88fbd7e3e","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n{"tenantid":"cfd95b7e-3bc7-4006-a4a8-a73a79c71255","requestid":"03da5ec6-cf87-40e6-b50d-b5882e3e2862","notificationTime":"2023-08-23T20:41:12.525Z","type":"created","entityType":"alert","entity":{"deduplicationKey":"newsletters.myapp.example.com->High error rate","sender":{"service":"DemoMon","name":"newsletters.myapp.example.com","type":"Netcool/OMNIbus"},"resource":{"name":"newsletters.myapp.example.com","hostname":"newsletters.myapp.example.com","type":"Service"},"type":{"classification":"Newsletter not received in 5 min:++:Newsletter self test","eventType":"problem"},"severity":3,"summary":"Newsletter test email not received within 5 minutes - emails may not be working","occurrenceTime":"2023-08-16T08:04:49.630Z","expirySeconds":0,"signature":"{hostname=newsletters.myapp.example.com, name=newsletters.myapp.example.com, type=Service}-Newsletter not received in 5 min:++:Newsletter self test-","firstOccurrenceTime":"2023-08-16T08:04:49.630Z","lastOccurrenceTime":"2023-08-16T08:04:49.630Z","eventCount":1,"state":"open","id":"685fa56f-3bfc-4cb8-be77-edb29672646f","langId":"en_US","team":"","owner":"","insights":[],"links":[]}}\n')),(0,r.yg)("p",null,"Now lets load these alerts into the historical alerts database via a kafka\ntopic. We will use the kafka script created in the previous section. Since this\nkafka script requires a CLI (Command Line Interface) connection to the OpenShift\ncluster, the script will leverage the ",(0,r.yg)("em",{parentName:"p"},"oc login")," command connection that we run\nat the beginning of the Lab."),(0,r.yg)("p",null,"Run the following command to load the AI model training alerts into the\nhistorical alerts database:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"bash event-load-kafka.sh temp-events-training.json cp4waiops-cartridge.irdatalayer.replay.alerts\n")),(0,r.yg)("h2",{id:"63-running-temporal-training"},"6.3: Running Temporal Training"),(0,r.yg)("p",null,"Now that we have loaded historical alert data, we can run the temporal training."),(0,r.yg)("h3",{id:"configure-temporal-training-model"},"Configure Temporal Training Model"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"From the burger menu in the top-left navigate to: ",(0,r.yg)("strong",{parentName:"li"},"Operate \u2192 AI model\nmanagement"),"."),(0,r.yg)("li",{parentName:"ul"},"From the ",(0,r.yg)("strong",{parentName:"li"},"AI model management")," page, click on the ",(0,r.yg)("strong",{parentName:"li"},"Temporal grouping"),"\ntile.")),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(52510).A,width:"1865",height:"740"})),(0,r.yg)("p",null,"From the ",(0,r.yg)("strong",{parentName:"p"},"Set up training")," pop-up:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"In the ",(0,r.yg)("strong",{parentName:"li"},"Getting started")," page, read the description and click ",(0,r.yg)("strong",{parentName:"li"},"Next")),(0,r.yg)("li",{parentName:"ul"},"In the ",(0,r.yg)("strong",{parentName:"li"},"Schedule training")," page, leave ",(0,r.yg)("strong",{parentName:"li"},"Schedule training")," Off and click\n",(0,r.yg)("strong",{parentName:"li"},"Next")),(0,r.yg)("li",{parentName:"ul"},"(Skip this step if you don't have a ",(0,r.yg)("strong",{parentName:"li"},"Select data")," page) In the ",(0,r.yg)("strong",{parentName:"li"},"Select\ndata")," page, set ",(0,r.yg)("strong",{parentName:"li"},"Start date")," as January 1st 2023 and ",(0,r.yg)("strong",{parentName:"li"},"End date")," as\nSeptember 1st, 2023. Leave ",(0,r.yg)("strong",{parentName:"li"},"Time")," unchanged")),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(17147).A,width:"1861",height:"816"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"In the ",(0,r.yg)("strong",{parentName:"li"},"Deploy policies")," page, leave ",(0,r.yg)("strong",{parentName:"li"},"Review and manually deploy policies"),"\nselected and click ",(0,r.yg)("strong",{parentName:"li"},"Done")," as shown below:")),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(86075).A,width:"1864",height:"971"})),(0,r.yg)("h3",{id:"run-temporal-training-model-and-create-temporal-policies"},"Run Temporal Training Model and Create Temporal Policies"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"From the ",(0,r.yg)("strong",{parentName:"li"},"AI model management")," page, click again on the ",(0,r.yg)("strong",{parentName:"li"},"Temporal\ngrouping")," tile."),(0,r.yg)("li",{parentName:"ul"},"From the ",(0,r.yg)("strong",{parentName:"li"},"Temporal grouping")," page, click ",(0,r.yg)("strong",{parentName:"li"},"Train model and create policies"),"\non the right of the page.")),(0,r.yg)("p",null,"You will see a pop-up message that confirms that training has started:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(33142).A,width:"1861",height:"816"})),(0,r.yg)("p",null,"After about 5 minutes, you will see that the training has finished in the\n",(0,r.yg)("strong",{parentName:"p"},"Activity")," log on the right:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(28428).A,width:"1861",height:"816"})),(0,r.yg)("p",null,"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Model versions")," tab. Note that a new Model v1 shows as\n",(0,r.yg)("strong",{parentName:"p"},"Deployed"),"."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(5903).A,width:"1864",height:"501"})),(0,r.yg)("p",null,"Click on the ",(0,r.yg)("strong",{parentName:"p"},"Draft and archived policies")," tab. Note that two draft Policies\nhave been created."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(34039).A,width:"1864",height:"501"})),(0,r.yg)("h2",{id:"64-review-and-deploy-temporal-policies"},"6.4: Review and Deploy Temporal Policies"),(0,r.yg)("p",null,"Lets review the newly created temporal policies based on the historical alert\ndata."),(0,r.yg)("h3",{id:"policy-logic"},"Policy Logic"),(0,r.yg)("p",null,"Click on the first policy name. On the right-side slider, click on the\n",(0,r.yg)("strong",{parentName:"p"},"Specification")," tab"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(32408).A,width:"1558",height:"708"})),(0,r.yg)("p",null,"Note that this policy will correlate any alerts that:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Have the alert.signature value equal to any of the two values listed. These\nvalues came from Alerts in the historical training data that have co-occurred\nin the past."),(0,r.yg)("li",{parentName:"ol"},"Happen within a 900 seconds (15 minutes) fixed time window.")),(0,r.yg)("p",null,"Close the right-side slider by clicking on the X."),(0,r.yg)("p",null,"Click on the second policy name and repeat the review process."),(0,r.yg)("h3",{id:"policy-justification"},"Policy Justification"),(0,r.yg)("p",null,"Now lets explore the policy Justification. On the first policy, click on the\nthree dots on the right and select ",(0,r.yg)("strong",{parentName:"p"},"View justification"),", as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(88879).A,width:"1864",height:"701"})),(0,r.yg)("p",null,"The policy justification page shows the alerts that have co-occurred in the\npast. For this policy, we see that two alerts with severities Major and Minor\nhave co-occurred on June 19, July 5, July 20, Aug 7, Aug 17 and Aug 22\nduring 2023."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(62208).A,width:"1864",height:"972"})),(0,r.yg)("p",null,"Click on the previous browser tab to get back to the list of the two draft\npolicies and repeat the justification review with the second policy."),(0,r.yg)("h3",{id:"policy-deployment"},"Policy Deployment"),(0,r.yg)("p",null,"Now that we have reviewed the logic and the justification for the draft\npolicies, we will deploy them. From the ",(0,r.yg)("strong",{parentName:"p"},"Temporal Grouping")," page under the\n",(0,r.yg)("strong",{parentName:"p"},"Draft and archived policies")," tab, select both policies and click ",(0,r.yg)("strong",{parentName:"p"},"Deploy"),",\nas shown below. Confirm the deployment on the confirmation pop-up."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(13925).A,width:"1864",height:"559"})),(0,r.yg)("p",null,"After the two policies are deployed, they are removed from the draft list. Click\non the ",(0,r.yg)("strong",{parentName:"p"},"Manage deployed policies")," link, as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(42169).A,width:"1864",height:"639"})),(0,r.yg)("p",null,"Now we are in the ",(0,r.yg)("strong",{parentName:"p"},"Automations")," page, under the ",(0,r.yg)("strong",{parentName:"p"},"Policies")," tab with a preset\nfilter for temporal policies. We can see that the two temporal polices are now\ndeployed and enabled. Note that the ",(0,r.yg)("strong",{parentName:"p"},"Last run")," column is empty and the status\nis ",(0,r.yg)("strong",{parentName:"p"},"Policy has not been attempted")," (hover over the status icon to see the\nlegend)."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(50821).A,width:"1864",height:"639"})),(0,r.yg)("h2",{id:"65-test-the-temporal-policies"},"6.5: Test the Temporal Policies"),(0,r.yg)("p",null,"Before testing the new temporal policies, lets recap what we have done so far:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"We submitted four co-occurring alerts. We saw that that they don't get\ngrouped or correlated because we don't have any temporal correlation policy\ndeployed yet."),(0,r.yg)("li",{parentName:"ol"},"We loaded historical alerts directly into the Cloud Pak for AIOps historical\nalerts database. This data have the same alerts from the previous step that\nco-occur multiple times in the past."),(0,r.yg)("li",{parentName:"ol"},"We manually run a temporal training job that will leverage this historical\nalert data."),(0,r.yg)("li",{parentName:"ol"},"After the job finished, two things happened: a new temporal model was\ndeployed and two draft temporal correlation policies were created."),(0,r.yg)("li",{parentName:"ol"},"We reviewed both, the logic and the justification of the draft temporal\npolicies."),(0,r.yg)("li",{parentName:"ol"},"Finally we deployed both temporal policies.")),(0,r.yg)("p",null,"To test the deployed temporal policies, we will submit the same four\nco-occurring alerts we tried in the first step."),(0,r.yg)("p",null,"Lets resubmit the same four events via the webhook script created in the\nprevious section by running the following command from the ",(0,r.yg)("strong",{parentName:"p"},"Terminal")," window"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"bash event-load-webhook.sh temp-events-inference.json\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"From the burger menu in the top-left navigate to: ",(0,r.yg)("strong",{parentName:"li"},"Operate \u2192 Alerts"))),(0,r.yg)("p",null,"Now we can see that there are two alert groups as shown below:"),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(17167).A,width:"1864",height:"453"})),(0,r.yg)("p",null,"Click on the chevron icon (^) for each group to expand them. Also, click on the\n",(0,r.yg)("strong",{parentName:"p"},"View correlation")," icon in the top-right, the ",(0,r.yg)("strong",{parentName:"p"},"Correlation")," column shows the\ntemporal correlation icon for these alerts."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(34189).A,width:"1863",height:"419"})),(0,r.yg)("p",null,"Now click on the temporal correlation icon of the first alert. Note that there\nis a calendar that shows which days these two alerts have co-occurred in the\npast. Hover on the calendar to see the dates."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(38800).A,width:"1866",height:"778"})),(0,r.yg)("p",null,"Finally, if you click on the ",(0,r.yg)("strong",{parentName:"p"},"More information")," link, you will see the same\njustification page that we saw while reviewing the draft policies."),(0,r.yg)("p",null,(0,r.yg)("img",{src:a(73026).A,width:"1864",height:"971"})),(0,r.yg)("p",null,"Lets clear these alerts before we move to the next section in the Lab. Select\nall the alerts, right-click and select ",(0,r.yg)("strong",{parentName:"p"},"Clear"),". Make sure all four alerts have\n",(0,r.yg)("strong",{parentName:"p"},"Clear")," under the ",(0,r.yg)("strong",{parentName:"p"},"State")," column. Move to the next step in the Lab (don't\nwait), the alerts will disappear after 2-3 minutes"))}y.isMDXComponent=!0},34039:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/draft-policies-b63ad3956d2b5a5d9ef0a6bc908ec165.png"},88879:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/first-policy-justification-476b05247cfd4d37e3dcc1d1e6e330d3.png"},32408:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/first-policy-spec-ade0cda1f4029fe5ddcb86b52961fdc8.png"},62208:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/justification-details-36fd23aa2315ecf417731756c07d0d58.png"},42169:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/policy-deploy-gone-185f0e528d32d8a3fd1ed380cc1a8c67.png"},13925:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/policy-deploy-f5a0defd8f8dc83dbc114b9bb2d86abb.png"},50821:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/policy-enabled-c10a92b29eaffaa9919f3ebf0f1a699c.png"},17147:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/select-data-temp-50b9d398c3e32718527ebde0c2acaeb0.png"},52510:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-group-tile-5c7e0442b6ed8d2acb62e8fa7b9e08ee.png"},95997:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-no-correlated-2a8775f3d385f52bafd7fcc14fedbf5b.png"},28428:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-training-complete-c4f17a225ceaa3eb9ec2ec84ce06c9a6.png"},5903:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-training-deployed-47f9d6e429be1ce97c45cbd25c05c933.png"},86075:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-training-popup-5a1b99999db75f1d2fbb8366ec22e616.png"},33142:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-training-started-2b3711f296762003bd6f0e97a0cba220.png"},38800:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-yes-correlated-calendar-f7dfae78e43fb0bd67b3fcb403273634.png"},34189:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-yes-correlated-expanded-a6e9e1ef7ed4b17a1d7db496cd337050.png"},73026:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-yes-correlated-justification-3e9c125eb7c045dec4db0d9739c123db.png"},17167:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/temp-yes-correlated-f68f7fc5ba50dba337cf091d4318be00.png"}}]);