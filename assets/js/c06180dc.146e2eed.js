"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[1739],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,o=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),u=c(n),h=i,m=u["".concat(o,".").concat(h)]||u[h]||d[h]||s;return n?a.createElement(m,l(l({ref:t},p),{},{components:n})):a.createElement(m,l({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,l=new Array(s);l[0]=u;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var c=2;c<s;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},20608:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const s={title:"3. Installing Metric Manager",description:"How to install Metric Manager",sidebar_position:3},l=void 0,r={unversionedId:"metric-management/mm-install/index",id:"metric-management/mm-install/index",title:"3. Installing Metric Manager",description:"How to install Metric Manager",source:"@site/labs/metric-management/3-mm-install/index.mdx",sourceDirName:"metric-management/3-mm-install",slug:"/metric-management/mm-install/",permalink:"/waiops-tech-jam/labs/metric-management/mm-install/",draft:!1,editUrl:"https://github.com/IBM/waiops-tech-jam/labs/metric-management/3-mm-install/index.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"3. Installing Metric Manager",description:"How to install Metric Manager",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"2. Installing Watson AIOps AI Manager",permalink:"/waiops-tech-jam/labs/metric-management/aimgr-install/"},next:{title:"4. Mediating CSV Metric Data",permalink:"/waiops-tech-jam/labs/metric-management/mm-mediating-csv/"}},o={},c=[{value:"3-1: Lab Introduction",id:"3-1-lab-introduction",level:2},{value:"3-2: Accessing your Metric Manager lab environment",id:"3-2-accessing-your-metric-manager-lab-environment",level:2},{value:"3-3: Installing IBM Streams",id:"3-3-installing-ibm-streams",level:2},{value:"3-4: Installing Metric Manager (Predictive Insights)",id:"3-4-installing-metric-manager-predictive-insights",level:2},{value:"3-5: Installing Metric Manager Interim Fix 5",id:"3-5-installing-metric-manager-interim-fix-5",level:2},{value:"3-6: Installing the REST Mediation Service",id:"3-6-installing-the-rest-mediation-service",level:2}],p={toc:c};function d(e){let{components:t,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"3-1-lab-introduction"},"3-1: Lab Introduction"),(0,i.kt)("p",null,"In this lab, you will be installing the various components that make up the\nVM-based Metric Manager (formerly Predictive Insights) solution, as well as\ninstalling the latest Interim Fix (IFIX5), and the REST Mediation Service, which\nwill be used in an upcoming lab."),(0,i.kt)("p",null,"You will need to use VNC to access the UI of your VM. If you don't already have\nVNC installed, you can download the RealVNC VNC Viewer for your operating system\nat the following link:"),(0,i.kt)("a",{href:"https://www.realvnc.com/en/connect/download/viewer/",target:"_blank"},"RealVNC Downloads"),(0,i.kt)("p",null,"MacOS, Window, and Linux clients are avaialable."),(0,i.kt)("p",null,"For the execution of the labs, you will need the following passwords, provided\nto you by your lab proctor at the beginning of the session: ",(0,i.kt)("br",null)),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<VNC PASSWORD",">"))," ",(0,i.kt)("br",null)," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))," ",(0,i.kt)("br",null)," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<DEFAULT CASSANDRA PASSWORD",">"))," ",(0,i.kt)("br",null)," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<CASSANDRA PASSWORD",">"))),(0,i.kt)("h2",{id:"3-2-accessing-your-metric-manager-lab-environment"},"3-2: Accessing your Metric Manager lab environment"),(0,i.kt)("p",null,"Open your VNC Viewer and create a new connection (File -> New Connection)"),(0,i.kt)("p",null,"Use your lab machine's IP address (the 'pi-template' ip address you used\nyesterday for the probe lab), and display #3 as shown in the example below (e.g.\n<IPADDR",">",":3 - your lab machine's IP address will differ). Leave everything else\ndefault. Click OK when complete."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(13574).Z,width:"544",height:"762"})),(0,i.kt)("p",null,"Double-click on your new connection in the main VNC Viewer interface. You will\nbe presented with a window asking you for the password. Use ",(0,i.kt)("span",{style:{color:"green"}},(0,i.kt)("strong",{parentName:"p"},"<VNC PASSWORD",">")),"."),(0,i.kt)("p",null,"You may next be presented with another login screen asking you to login as the\n'scadmin' user to the desktop. If it asks, use the scadmin user password:\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),"."),(0,i.kt)("p",null,"You will be logged into the desktop for the 'scadmin' user. Next, right-click in\nthe desktop background and select ",(0,i.kt)("strong",{parentName:"p"},"Open Terminal")," to open a terminal session."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(29083).Z,width:"1023",height:"716"})),(0,i.kt)("p",null,"You are now prepared to proceed with the installation of Metric Manager."),(0,i.kt)("h2",{id:"3-3-installing-ibm-streams"},"3-3: Installing IBM Streams"),(0,i.kt)("p",null,"Metric Manager uses IBM Streams as its core ingestion/analytics engine. As such,\nthe Streams software must be installed prior to installing the Metric Manager.\nThe Streams install is very straightforward and only takes a couple of minutes."),(0,i.kt)("p",null,"From your terminal command line, run the following command to start the Streams\ninstall:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"./PI-Installables/CNH5LEN/StreamsInstallFiles/IBMStreamsSetup.bin\n")),(0,i.kt)("p",null,'Select your preferred language, and click "OK". Next, ensure you select the IBM\nStreams install:'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(87838).Z,width:"880",height:"664"})),(0,i.kt)("p",null,'Click through the Introduction screen, and accept the licenes agreement. When\nyou come to the installation directory screen, change the installation path from\nthe scadmin home directory to " ',(0,i.kt)("strong",{parentName:"p"},"/opt/IBM/InfoSphere_Streams"),'":'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(83019).Z,width:"876",height:"667"})),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Next"),", review the install summary, and if everything looks ok, select\n",(0,i.kt)("strong",{parentName:"p"},"Install"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(91111).Z,width:"702",height:"535"})),(0,i.kt)("p",null,"When install is complete, ",(0,i.kt)("strong",{parentName:"p"},'uncheck the "Open Domain Manager"'),' and click next,\nthen "done" to complete the install.'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(49813).Z,width:"799",height:"607"})),(0,i.kt)("p",null,"Next, you will need to add some entries into the scadmin user's .bashrc file to\nensure that the Predictive Insights software knows where Streams is installed\nand uses the proper version of java. To do this, add the following lines to the\nscadmin user's .bashrc file using your text editor of choice. Both ",(0,i.kt)("strong",{parentName:"p"},"vi")," and\n",(0,i.kt)("strong",{parentName:"p"},"nano")," are installed on the system, or you can use the GUI version of the text\neditor by running:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"gedit ~/.bashrc\n")),(0,i.kt)("p",null,"Place these lines at the bottom of the .bashrc file, save the file, then exit"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"if [ -f /opt/IBM/InfoSphere_Streams/4.2.0.3/bin/streamsprofile.sh ]; then\n . /opt/IBM/InfoSphere_Streams/4.2.0.3/bin/streamsprofile.sh\nfi\n\nPATH=/opt/IBM/InfoSphere_Streams/4.2.0.3/java/bin:$PATH\n\nJAVA_HOME=/opt/IBM/InfoSphere_Streams/4.2.0.3/java\n\nexport PATH JAVA_HOME\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Alternatively, you can run the following command to append these lines to the\nscadmin user's .bashrc file. Be careful here and make a backup incase you\naccidentally overwrite the file instead of append:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cp ~/.bashrc ~/.bashrc-BAK\ncat /home/scadmin/PI-Installables/bashrc >> ~/.bashrc\n")),(0,i.kt)("p",null,"Once you have modified the scadmin user's .bashrc, re-source the new .bashrc by\nissuing the following command (or close/re-open the terminal window). You should\nreceive a confirmation message indicating that the streams environment has been\nset up:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"source ~/.bashrc\n")),(0,i.kt)("p",null,"You should receive the following message indicating that the environment has\nbeen set up:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"IBM Streams environment variables have been set.")),(0,i.kt)("h2",{id:"3-4-installing-metric-manager-predictive-insights"},"3-4: Installing Metric Manager (Predictive Insights)"),(0,i.kt)("p",null,"To install Metric Manager, DB2 needs to be running. From the command line\nwindow, issue the following command to start DB2:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"db2start\n")),(0,i.kt)("p",null,"Next, issue the following command to start the installation manager:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"/home/scadmin/IBM/InstallationManager/eclipse/launcher\n")),(0,i.kt)("p",null,"The main IBM Installation Manager screen is presented:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(87197).Z,width:"1263",height:"782"})),(0,i.kt)("p",null,"You must first add the Predictive Insights installation files to the\nInstallation manager repositories. To do that, click on the\n",(0,i.kt)("strong",{parentName:"p"},"File-",">","Preferences"),' menu item in the Installation Manager UI, and select "Add\nRepositories":'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(88880).Z,width:"837",height:"731"})),(0,i.kt)("p",null,'Click the "Browse" button, and navigate to\n"Home-',">","PI-Installables-",">","predictiveInsightsInstaller1.3.6-",">",'offering\u2026. Select\n"repository.config" and click "OK", and "OK" again to add the repository to\nInstallation Manager.'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(58309).Z,width:"929",height:"342"})),(0,i.kt)("p",null,"Your repositories list should look like this, and you can click ",(0,i.kt)("strong",{parentName:"p"},"Ok")," to go\nback to the main menu and continue to install:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(6547).Z,width:"875",height:"784"})),(0,i.kt)("p",null,"From the main menu, click ",(0,i.kt)("strong",{parentName:"p"},"Install")," and select Predictive Insights as\nillustrated, then click ",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(54781).Z,width:"929",height:"574"})),(0,i.kt)("p",null,"Accept the license agreement and click ",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(71606).Z,width:"936",height:"581"})),(0,i.kt)("p",null,"Leave the defaults for creating the package group and click ",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(14753).Z,width:"931",height:"577"})),(0,i.kt)("p",null,"The Metric Manager is a distributed application, and various components can be\ninstalled on separate servers. For our purposes, however, we will be installing\nall components of MM/PI, so leave everything checked as default and click\n",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(80257).Z,width:"927",height:"576"})),(0,i.kt)("p",null,"The next screen is DB2 configuration. Since DB2 is installed and running\nlocally, you can leave most as defaults, but change the password to ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),". Click the ",(0,i.kt)("strong",{parentName:"p"},"Validate"),"\nbutton. The installer will login to the DB2 instance to verify that the\ncredentials are proper. If the verify fails, double-check that you typed the\nproper password."),(0,i.kt)("p",null,"When the validation succeeds you will be able to click on the ",(0,i.kt)("strong",{parentName:"p"},"Next ",">")," button\nto move to the next section, as shown below:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(39701).Z,width:"927",height:"573"})),(0,i.kt)("p",null,"The next screen is the Analytics configuration. This allows you to define a\nstarting PI topic. Modify the ",(0,i.kt)("strong",{parentName:"p"},"Topic Name")," box to add ",(0,i.kt)("strong",{parentName:"p"},"TEST")," as a topic and\nclick ",(0,i.kt)("strong",{parentName:"p"},"Validate"),". When Validation succeeds, click ",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(55970).Z,width:"935",height:"579"})),(0,i.kt)("p",null,"Next, you will be presented with the configuration for OMNIbus integration. This\nensures that any anomaly alerts are sent to the OMNIbus event processor. For\nthis lab, we will be integrating with an existing OMNIbus that is running on the\nlocal server. As such, ",(0,i.kt)("strong",{parentName:"p"},"leaving these options as default")," and selecting\n",(0,i.kt)("strong",{parentName:"p"},"Validate")," should succeed so you can continue to the next installation panel:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(42324).Z,width:"934",height:"577"})),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"NOTE: If you get an error indicating that port 4100 is not reachable, open up a\nseparate window and start up the following services, using ",(0,i.kt)("strong",{parentName:"em"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))," as the authentication\npassword:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"systemctl start nco\nsystemctl start netcoolwebgui\n")),(0,i.kt)("p",null,"And click ",(0,i.kt)("strong",{parentName:"p"},"Validate")," again. If you continue to have issues, consult a lab\nproctor."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note: it is possible to integrate the on-prem version of MM with NOI/Watson\nAIOps Event Manager running on OCP. Contact Jason Cress /\n",(0,i.kt)("a",{parentName:"em",href:"mailto:jcress@us.ibm.com"},"jcress@us.ibm.com")," for instructions on how this\nintegration is achieved.")),(0,i.kt)("p",null,'The next screen, "UI Configuration", will require the following changes:'),(0,i.kt)("p",null,"username and password that installed dash: ",(0,i.kt)("strong",{parentName:"p"},"scadmin")," / ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))," Enter DASH install dir :\n",(0,i.kt)("strong",{parentName:"p"},"/home/scadmin/IBM/JazzSM")," Enter DASH profile dir :\n",(0,i.kt)("strong",{parentName:"p"},"/home/scadmin/IBM/JazzSM/profile/")," Enter DASH Profile user/password :\n",(0,i.kt)("strong",{parentName:"p"},"piadmin")," / ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))),(0,i.kt)("p",null,"Leave the rest of the entries as default."),(0,i.kt)("p",null,"Once you have edited the proper variables, click ",(0,i.kt)("strong",{parentName:"p"},"Validate"),". A little patience\nis required on this step - validation will take some time to complete, as it\ndoes several things to verify that it can log into the DASH profile as an admin,\nextract keys, etc. If the validation fails, verify your entries and try again."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(47436).Z,width:"931",height:"574"})),(0,i.kt)("p",null,"Once validation succeeds, click Next and you will be presented with the\nconfiguration panel for WebGUI. Some critical changes need to be made:"),(0,i.kt)("p",null,'Change the "Enter WebGUI Install dir" to:\n',(0,i.kt)("strong",{parentName:"p"},"/home/scadmin/IBM/netcool/gui/omnibus_webgui")),(0,i.kt)("p",null,"Enter the WebGUI user password for the ncoadmin user: ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))),(0,i.kt)("p",null,"Leave everything else as default, including leaving the OMNIbus password blank."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(39265).Z,width:"932",height:"573"})),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Validate")," and you should be able to click ",(0,i.kt)("strong",{parentName:"p"},"Next")," after validation. If\nvalidation fails, double check the install directory\n(/home/scadmin/IBM/netcool/",(0,i.kt)("strong",{parentName:"p"},"gui"),"/omnibus_webgui), the user (ncoadmin), and the\npassword (",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),") and try\nagain."),(0,i.kt)("p",null,"The next installation screen shows the local MM UI configuration screen. Leave\nthese as default and click ",(0,i.kt)("strong",{parentName:"p"},"Validate"),". When the validation succeeds, click\n",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(56513).Z,width:"931",height:"576"})),(0,i.kt)("p",null,"Next, the installation screen will show the Mediation Tool options. You may\nleave these as they are and click ",(0,i.kt)("strong",{parentName:"p"},"Validate"),". Once validation completes, click\n",(0,i.kt)("strong",{parentName:"p"},"Next"),":"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(24133).Z,width:"934",height:"577"})),(0,i.kt)("p",null,"Finally, you will be presented with the install screen. Click ",(0,i.kt)("strong",{parentName:"p"},"Install")," to\nperform the installation:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(54737).Z,width:"935",height:"576"})),(0,i.kt)("p",null,"Take a break. After about 7 to 10 minutes you should be presented with the\nfollowing screen indicating that the installation was successful:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(21364).Z,width:"934",height:"579"})),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note: if you see an orange icon with a message indicating the install completed\nwith warnings, please continue the labs. We will be rebuilding the topic after\nthe install of ifix5")),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Finish")," to, and then select ",(0,i.kt)("strong",{parentName:"p"},"File -",">"," Exit")," to exit the installer and\nreturn to your terminal."),(0,i.kt)("p",null,"The installation makes updates to the environment variables in the scadmin\nuser's .bashrc file, so you ","*","MUST","*"," re-source the new bashrc as such:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"source ~/.bashrc\n")),(0,i.kt)("p",null,"Delete the TEST topic that we created during the installation:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"/opt/IBM/scanalytics/analytics/bin/admin.sh delete_topic TEST\n")),(0,i.kt)("p",null,"You have completed the installation of Metric Manager. In the next section, you\nwill install the latest update."),(0,i.kt)("h2",{id:"3-5-installing-metric-manager-interim-fix-5"},"3-5: Installing Metric Manager Interim Fix 5"),(0,i.kt)("p",null,"The latest fix pack for Metric Manager is always available on the IBM Fix\nCentral site. As of this writing, the latest available fix is IFIX5. It provides\nfixes for the core analytics, the UI, and installs a new version of Streams.\nFinally, it provides an update to the REST/Kafka mediation components, which we\nwill work with in an upcoming lab."),(0,i.kt)("p",null,"To install the latest IFIX, you will run the updates from the command line using\nthe following steps:"),(0,i.kt)("p",null,"Open up a terminal and change your working directory to the directory\n",(0,i.kt)("strong",{parentName:"p"},"/opt/IBM/software/predictiveInsights1.3.6_iFix5_el7_x86_64:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd /opt/IBM/software/predictiveInsights1.3.6_iFix5_el7_x86_64\n")),(0,i.kt)("p",null,"Run the update script to patch the core analytics components:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"./patch_PI_core_analytics_136_iFix5.sh\n")),(0,i.kt)("p",null,"You will be prompted to enter the passwords for the DB2 database and the OMNIbus\nroot user. Use the following:"),(0,i.kt)("p",null,"DB2 database password: ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),"\nOMNIbus root user is blank, so just hit ",(0,i.kt)("strong",{parentName:"p"},"enter")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(92364).Z,width:"934",height:"51"})),(0,i.kt)("p",null,"Accept the license agreement, and the Streams portion of the update will\nproceed."),(0,i.kt)("p",null,'When the Streams update completes, you will be prompted to display and accept\nthe license agreement. Enter "S" to skip the license display, and enter "Y" to\naccept the license.'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(2309).Z,width:"934",height:"244"})),(0,i.kt)("p",null,"You will once more be prompted to enter the OMNIbus root user password. Just hit\n",(0,i.kt)("strong",{parentName:"p"},"Enter")," again."),(0,i.kt)("p",null,"The installation will complete. Next, you will need to restart the VNC daemon\nand re-open your VNC session. To perform this action, restart the VNC service\nusing the following command, and authenticating with as the authentication\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">"))," password."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo systemctl restart vncserver@:3\n")),(0,i.kt)("p",null,"After a minute or two, your VNC session should reconnect to the scadmin user's\ndesktop. If it doesn't automatically reconnect, close the VNC session window and\nreconnect from the VNC Viewer connections list."),(0,i.kt)("p",null,"Next, we will test to make sure that the update installed properly."),(0,i.kt)("p",null,"Open a terminal, and change your working directory to the analytics binary\ndirectory, and run the admin.sh command to show the version:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd /opt/IBM/scanalytics/analytics/bin\n./admin.sh show_version\n")),(0,i.kt)("p",null,"If the update was installed successfully, you should see the following result:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"VERSION 1.3.6.5_20211124")),(0,i.kt)("p",null,"Additionally, we will test the software to ensure the database connection is\nstill good. Run the following command to verify:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"./admin.sh create_topic TEST\n")),(0,i.kt)("p",null,"If there are any errors, particularly with regards to database connectivity, try\nre-sourcing your .bashrc:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"source ~/.bashrc\n")),(0,i.kt)("p",null,"And try to create your topic again. If the issue persists, consult the lab\nproctor."),(0,i.kt)("p",null,"Now that the core analytics components have been successfully updated, you will\nnext install the IFIX5 User Interface (UI) update. From your terminal window,\nchange your working directory to:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd /opt/IBM/software/predictiveInsights1.3.6_iFix5_el7_x86_64\n")),(0,i.kt)("p",null,"And run the update UI script:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"./patch_PI_UI_136_iFix5.sh\n")),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("h1",{parentName:"admonition",id:"--danger-will-robinson--"},(0,i.kt)("strong",{parentName:"h1"}," !!! DANGER, WILL ROBINSON !!! "))),(0,i.kt)("p",null,"The next portion of the installation will prompt you for 14 values. You must be\n",(0,i.kt)("em",{parentName:"p"},"deliberate")," in entering these values, and you must enter them as shown below.\nThe interim fix installation script does not verify the values you enter here,\nand even though the prompts suggest default values, the defaults will not be\naccepted. ",(0,i.kt)("strong",{parentName:"p"},"Please ensure that you enter the correct values as listed below!")),(0,i.kt)("p",null,"JazzSM/WebGUI host: ",(0,i.kt)("inlineCode",{parentName:"p"},"pi-template.Hybrid-Squad.cloud")," JazzSM base directory:\n",(0,i.kt)("inlineCode",{parentName:"p"},"/home/scadmin/IBM/JazzSM")," JazzSM profile directory:\n",(0,i.kt)("inlineCode",{parentName:"p"},"/home/scadmin/IBM/JazzSM/profile")," permission to start JazzSM: ",(0,i.kt)("inlineCode",{parentName:"p"},"Y")," JazzSM/WAS\nserver: ",(0,i.kt)("inlineCode",{parentName:"p"},"server1")," WebGUI base directory:\n",(0,i.kt)("inlineCode",{parentName:"p"},"/home/scadmin/IBM/netcool/gui/omnibus_webgui")," JazzSM/WebGUI non-secure port:\n",(0,i.kt)("inlineCode",{parentName:"p"},"16310")," JazzSM/WebGUI secure port: ",(0,i.kt)("inlineCode",{parentName:"p"},"16311")," WebGUI Admin username: ",(0,i.kt)("inlineCode",{parentName:"p"},"ncoadmin"),"\nncoadmin's password: ",(0,i.kt)("inlineCode",{parentName:"p"},"<LAB PASSWORD>")," Predictive Insights UI host:\n",(0,i.kt)("inlineCode",{parentName:"p"},"pi-template.Hybrid-Squad.cloud")," Predictive Insights UI base folder:\n",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/IBM/scanalytics/UI")," Predictive Insights installer folder:\n",(0,i.kt)("inlineCode",{parentName:"p"},"/opt/IBM/scanalytics/install_scadmin")," Predictive Insights UI non-secure port:\n",(0,i.kt)("inlineCode",{parentName:"p"},"9999")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(77742).Z,width:"935",height:"196"})),(0,i.kt)("p",null,'Once all information is entered, you will be prompted for the type of upgrade\nyou want to perform. Select "1" to perform a full UI upgrade:'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(97956).Z,width:"934",height:"85"})),(0,i.kt)("p",null,"The script will update the UI components and will complete in a few minutes.\nOnce it is complete, use the following command to ensure the UI is up and\nrunning:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"/opt/IBM/scanalytics/UI/bin/pi.sh -status\n")),(0,i.kt)("p",null,"The output should indicate that the UI is up and running."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(67535).Z,width:"934",height:"174"})),(0,i.kt)("p",null,"If it shows down, wait a minute, and try the status command again. If it still\nshows down after a couple of minutes, perform a manual restart of the UI by\nrunning:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"/opt/IBM/scanalytics/UI/bin/pi.sh -start\n")),(0,i.kt)("p",null,'Next, we will verify that the UI is accessible from the web browser. From the\ndesktop, click on the Red Hat application menu and select "Firefox" from the\ndrop-down menu:'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(93369).Z,width:"934",height:"457"})),(0,i.kt)("p",null,'You should be presented with the IBM Dashboard Application Services Hub login\nwindow. Login as "ncoadmin" with a password of ',(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),"."),(0,i.kt)("p",null,'After logging in, you\'ll be presented with an "Information" window indicating\nthat Predictive Insights is using a self-signed certificate. ',(0,i.kt)("strong",{parentName:"p"},"!! DO NOT CLICK\nCLOSE !!")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(94730).Z,width:"461",height:"449"})),(0,i.kt)("p",null,'Click on the link "Predictive Insights (pi-template.Hybrid-Squad.cloud)"'),(0,i.kt)("p",null,'In the pop-up window, click "Advanced", and click "Accept the Risk and\nContinue". This will allow you to access the PI UI despite having a self-signed\ncertificate.'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(25316).Z,width:"449",height:"785"})),(0,i.kt)("p",null,'Next, click on the "Snowflake" icon in the left navigation pane, and select\n"Service Diagnosis Metric Search":'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(46705).Z,width:"656",height:"768"})),(0,i.kt)("p",null,"You should be presented with the following window:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(34372).Z,width:"1915",height:"935"})),(0,i.kt)("p",null,"If you receive an error, consult your lab proctor."),(0,i.kt)("h2",{id:"3-6-installing-the-rest-mediation-service"},"3-6: Installing the REST Mediation Service"),(0,i.kt)("p",null,"Now that both the Core and UI components of Metric Manager are updated, our last\nstep for install is to install the REST mediation service. Close firefox, return\nto your terminal, and follow these steps to install:"),(0,i.kt)("p",null,"Change your working directory to the IFIX extracted directory"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd /opt/IBM/software/predictiveInsights1.3.6_iFix5_el7_x86_64/REST_Mediation_utility\n")),(0,i.kt)("p",null,"Extract Cassandra and move the directory to /opt/IBM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"tar -xzf apache-cassandra-3.11.10-bin.tar.gz\nmv apache-cassandra-3.11.10 /opt/IBM/\n")),(0,i.kt)("p",null,"Extract kafka, move the directory to /opt/IBM, and change ownership to 'piadmin'\n(sudo password is ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB PASSWORD",">")),"):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"tar -xvzf kafka_2.13-2.6.2.tgz\nmv kafka_2.13-2.6.2 /opt/IBM\nsudo chown -R piadmin:piadmin /opt/IBM/kafka_2.13-2.6.2\n")),(0,i.kt)("p",null,"Extract spark, move the directory to /opt/IBM, and change ownership to\n'piadmin':"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"tar -xzf spark-3.1.2-bin-hadoop3.2.tgz\nmv spark-3.1.2-bin-hadoop3.2 /opt/IBM\nsudo chown -R piadmin:piadmin /opt/IBM/spark-3.1.2-bin-hadoop3.2\n")),(0,i.kt)("p",null,"Copy the PI mediation directory to /opt/IBM, and change its ownership to\npiadmin:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cp -R pi-mediation-1.0.4 /opt/IBM\nsudo chown -R piadmin:piadmin /opt/IBM/pi-mediation-1.0.4\n")),(0,i.kt)("p",null,"The latest REST mediation service requires a later version of Python. Unzip the\nPython package and build/compile it. Use ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("span",{style:{color:"green"}},"<LAB\nPASSWORD",">"))," if prompted for the sudo password:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"tar -xzf Python-2.7.18.tgz\ncd Python-2.7.18\n./configure\nmake\nsudo make install\n")),(0,i.kt)("p",null,"Once the build completes, restart the VNC service:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"sudo systemctl restart vncserver@:3\n")),(0,i.kt)("p",null,"After a moment or two, your VNC session should reconnect to a blank desktop. If\nit doesn't automatically reconnect after a minute or two, close the VNC session\nwindow and reconnect from the VNC Viewer connections list."),(0,i.kt)("p",null,"Once you are back into your VNC session, open a terminal and verify that the\nPython version on the system has been updated by running:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"python --version\n")),(0,i.kt)("p",null,'It should return with "Python 2.7.18"'),(0,i.kt)("p",null,"Installation and update of the Metric Manager components is now complete!\nProceed to the next lab to learn how to model and ingest CSV data."))}d.isMDXComponent=!0},13574:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture1-ce6b15c9648bdbb78686d39f29463e1c.png"},54781:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture10-92b4822916bc2d75832e943121b24651.png"},71606:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture11-ac66c108d7edfc7428999d8c53e7e76e.png"},14753:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture12-c3ce0e8f721d17a9c5b16af563e9fe27.png"},80257:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture13-f47009a52659e8bf6fc2cf475b909c54.png"},39701:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture14-0daad8e960af97308a43213ecc15f6be.png"},55970:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture15-bbf313331fb5b5a8c96f2ad8fcf8570a.png"},42324:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture16-dbb09bf24b0c56a72484a811011054e4.png"},47436:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture17-80505dd7d66a24aaa0d4fd4c3db6a4c8.png"},39265:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture18-55f1ce5336db37643f979c2081f8f8a0.png"},56513:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture19-03a7e79ddade49abf30f390354412c1b.png"},29083:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture2-4f586176267284ca99e6efb4cfd7e37b.png"},24133:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture20-fcf03c132e9a4ba76a2474e5099254f0.png"},54737:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture21-67dc8268acd23b83e0c96679a52390b1.png"},21364:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture22-aef05f9e1058dbda040e583ceb601214.png"},2309:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture23-ca307f068ac1a9ebdd618fb5e821cb03.png"},92364:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture24-51d505370ee16f7bd911ba7bc6cd0b74.png"},77742:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture26-7c4f23effed4a9fce89622b2c8a38651.png"},97956:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture27-137df1ba525c8f789b1e45d2b9dc1a6d.png"},67535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture28-29c36a91475c2a397f058a7d8d11df2e.png"},93369:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture29-9e49c72a8953b154e02fa67be10cf534.png"},87838:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture3-71b067212a92926b88a3ca6b660786de.png"},94730:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture30-d9dd89884d4142844834c9b95016cc4a.png"},25316:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture31-f7cff429c01377ac5abbed058e2353b1.png"},46705:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture32-f954756f0e50dcb37f06d3e58494c491.png"},34372:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture33-18f00055679ea7ae274f4f5ec5793704.png"},83019:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture4-a976b5e170a741c11031a5525f20ec51.png"},49813:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture5-f9248464c549a1267e118df1b1d75860.png"},87197:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture6-9257e12cac8e7130a704da3c80ac179b.png"},88880:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture7-21627083a0eb7d1f9e8f4bd9ecb44498.png"},58309:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture8-8b3acee812a0e14095283c3496217db9.png"},6547:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-Picture9-1e2b4030a43093977af93e2bb766d16e.png"},91111:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lab2-addon1-9929ed909c8d2fcb942f3cafbf16779f.png"}}]);