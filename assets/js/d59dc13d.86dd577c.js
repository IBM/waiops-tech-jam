"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[1584],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),g=s(n),u=a,y=g["".concat(c,".").concat(u)]||g[u]||m[u]||l;return n?o.createElement(y,i(i({ref:t},p),{},{components:n})):o.createElement(y,i({ref:t},p))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=u;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r[g]="string"==typeof e?e:a,i[1]=r;for(var s=2;s<l;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},39564:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var o=n(58168),a=(n(96540),n(15680));const l={title:"6. Create a right-click tool",description:"Create a right-click tool in AIOps that launches a Netcool/Impact policy",sidebar_position:6},i=void 0,r={unversionedId:"cloud-pak-aiops/migration-from-netcool/right-click-tool/index",id:"cloud-pak-aiops/migration-from-netcool/right-click-tool/index",title:"6. Create a right-click tool",description:"Create a right-click tool in AIOps that launches a Netcool/Impact policy",source:"@site/labs/cloud-pak-aiops/migration-from-netcool/6-right-click-tool/index.mdx",sourceDirName:"cloud-pak-aiops/migration-from-netcool/6-right-click-tool",slug:"/cloud-pak-aiops/migration-from-netcool/right-click-tool/",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/migration-from-netcool/right-click-tool/",draft:!1,editUrl:"https://github.com/IBM/waiops-tech-jam/tree/main/labs/cloud-pak-aiops/migration-from-netcool/6-right-click-tool/index.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"6. Create a right-click tool",description:"Create a right-click tool in AIOps that launches a Netcool/Impact policy",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"5. Create an event housekeeping automation",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/migration-from-netcool/housekeeping/"},next:{title:"7. Migrate custom correlation",permalink:"/waiops-tech-jam/labs/cloud-pak-aiops/migration-from-netcool/migrate-custom-correlation/"}},c={},s=[{value:"6.1: Overview",id:"61-overview",level:2},{value:"6.2 Create a Netcool/Impact policy",id:"62-create-a-netcoolimpact-policy",level:2},{value:"6.3 Create a new AIOps action",id:"63-create-a-new-aiops-action",level:2},{value:"6.4 Create a right-click tool",id:"64-create-a-right-click-tool",level:2}],p={toc:s},g="wrapper";function m(e){let{components:t,...l}=e;return(0,a.yg)(g,(0,o.A)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"61-overview"},"6.1: Overview"),(0,a.yg)("p",null,"In this Lab, you will create a right-click tool that calls a Netcool/Impact policy that will delete all the events in the Netcool/OMNIbus event source. This will provide a convenient way to effectively refresh the event estate coming from Netcool/OMNIbus."),(0,a.yg)("h2",{id:"62-create-a-netcoolimpact-policy"},"6.2 Create a Netcool/Impact policy"),(0,a.yg)("p",null,"In this section, you will create a JavaScript policy in Netcool/Impact that will be used to delete all events in the Netcool/OMNIbus event source (ie. the ObjectServer). Use the following steps to create the new event deletion policy in Netcool/Impact:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Navigate to the Netcool/Impact GUI: ",(0,a.yg)("inlineCode",{parentName:"li"},"https://netcoolvm:16311/ibm/console")),(0,a.yg)("li",{parentName:"ul"},"Log in to Netcool/Impact as the user ",(0,a.yg)("inlineCode",{parentName:"li"},"impactadmin")," and password ",(0,a.yg)("inlineCode",{parentName:"li"},"netcool")),(0,a.yg)("li",{parentName:"ul"},"Click on ",(0,a.yg)("strong",{parentName:"li"},"Policies")),(0,a.yg)("li",{parentName:"ul"},"Click on the pull-down menu button on the new policy button and select ",(0,a.yg)("strong",{parentName:"li"},"JavaScript Policy")),(0,a.yg)("li",{parentName:"ul"},"Copy and paste the following sample policy into the policy editor:")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'MySQL = "delete from alerts.status";\nDirectSQL("defaultobjectserver", MySQL, false, false);\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Click on the ",(0,a.yg)("strong",{parentName:"li"},"Save")," button and save the policy as: ",(0,a.yg)("inlineCode",{parentName:"li"},"AIOPS_DeleteEvents"))),(0,a.yg)("h2",{id:"63-create-a-new-aiops-action"},"6.3 Create a new AIOps action"),(0,a.yg)("p",null,"In this section, you will create an AIOps automation policy that will send events to the newly created Netcool/Impact policy."),(0,a.yg)("p",null,"Use the following steps to create the new AIOps automation policy:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Log in to the AIOps console and select ",(0,a.yg)("strong",{parentName:"li"},"Automations")," from the main menu"),(0,a.yg)("li",{parentName:"ul"},"Click on the ",(0,a.yg)("strong",{parentName:"li"},"Actions")," tab and click on the ",(0,a.yg)("strong",{parentName:"li"},"Create action")," button"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Type"),": choose ",(0,a.yg)("strong",{parentName:"li"},"HTTP")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Name"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"Delete all OMNIbus events")),(0,a.yg)("li",{parentName:"ul"},"Scroll down to the ",(0,a.yg)("strong",{parentName:"li"},"Action HTTP request")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Target API"),": choose ",(0,a.yg)("strong",{parentName:"li"},"Custom API")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"API endpoint"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"https://netcoolvm:9081/restui/policyui/policy/AIOPS_DeleteEvents/run")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Method"),": choose ",(0,a.yg)("strong",{parentName:"li"},"GET")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Username"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"impactadmin")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Password"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"netcool")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Accept"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"*/*")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Ignore certificate errors"),": checked"),(0,a.yg)("li",{parentName:"ul"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Publish")," to save your Action and make it available for selection")),(0,a.yg)("h2",{id:"64-create-a-right-click-tool"},"6.4 Create a right-click tool"),(0,a.yg)("p",null,"In this section, you will create a right-click tool that calls the action you just created."),(0,a.yg)("p",null,"Use the following steps to create the new AIOps right-click tool:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Log in to the AIOps console and select ",(0,a.yg)("strong",{parentName:"li"},"Alerts")," from the main menu"),(0,a.yg)("li",{parentName:"ul"},"Click on the little cogwheel icon in the top-right corner of the page and select ",(0,a.yg)("strong",{parentName:"li"},"Configure alerts contextual menu")),(0,a.yg)("li",{parentName:"ul"},"Click on the ",(0,a.yg)("strong",{parentName:"li"},"Add menu item")," button on the top right-corner of the page"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Menu item label"),": enter: ",(0,a.yg)("inlineCode",{parentName:"li"},"Delete all OMNIbus events")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Select who can use, edit and manage this menu item."),": set to ",(0,a.yg)("strong",{parentName:"li"},"Everyone")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Everyone can"),": set to ",(0,a.yg)("strong",{parentName:"li"},"Use this menu item")),(0,a.yg)("li",{parentName:"ul"},"Scroll down to the ",(0,a.yg)("strong",{parentName:"li"},"Action definition")," section"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Select an action"),": choose: ",(0,a.yg)("strong",{parentName:"li"},"Delete all OMNIbus events")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Conditions"),": ensure ",(0,a.yg)("strong",{parentName:"li"},"Always show menu item in the contextual menu.")," is selected"),(0,a.yg)("li",{parentName:"ul"},"Click on ",(0,a.yg)("strong",{parentName:"li"},"Save")," to save your new menu item"),(0,a.yg)("li",{parentName:"ul"},"Click on ",(0,a.yg)("strong",{parentName:"li"},"Save")," to save you new contextual menu layout"),(0,a.yg)("li",{parentName:"ul"},"Click on ",(0,a.yg)("strong",{parentName:"li"},"Alerts")," on the top-left corner of the page to return to the Alerts viewer"),(0,a.yg)("li",{parentName:"ul"},"Right-click on any event and select your new tool"),(0,a.yg)("li",{parentName:"ul"},"Observe the ",(0,a.yg)("strong",{parentName:"li"},"Success")," message in the top-right corner of the page")),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(38815).A,width:"296",height:"175"})),(0,a.yg)("p",null,"The tool will delete all events in the Netcool/OMNIbus ObjectServer. It will take a few moments for the deletion in Netcool/OMNIbus to propagate through to AIOps via the Netcool Connector. Click on the refresh button a few times until you see the Clear and Closed events visible in the Alerts viewer. Note that since the Probe is continuing to run, you will still see new events streaming in, despite all the older events now having been closed."),(0,a.yg)("p",null,(0,a.yg)("img",{src:n(85341).A,width:"1115",height:"373"})))}m.isMDXComponent=!0},85341:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/cleared_events-653eaa20360f4d13a48972ce8e2f10d8.png"},38815:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/tool_success-d4b216d9f12efddde258ef7092361443.png"}}]);