<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-watson-aiops/create-topology/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">5. Create sample topology | IBM AIOps Automation SWAT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com//waiops-tech-jam/labs/watson-aiops/create-topology/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="5. Create sample topology | IBM AIOps Automation SWAT"><meta data-rh="true" name="description" content="Use the File Observer to create some sample topology"><meta data-rh="true" property="og:description" content="Use the File Observer to create some sample topology"><link data-rh="true" rel="icon" href="/waiops-tech-jam/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://github.com//waiops-tech-jam/labs/watson-aiops/create-topology/"><link data-rh="true" rel="alternate" href="https://github.com//waiops-tech-jam/labs/watson-aiops/create-topology/" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com//waiops-tech-jam/labs/watson-aiops/create-topology/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/waiops-tech-jam/blog/rss.xml" title="IBM AIOps Automation SWAT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/waiops-tech-jam/blog/atom.xml" title="IBM AIOps Automation SWAT Atom Feed"><link rel="stylesheet" href="/waiops-tech-jam/assets/css/styles.a09cd3f8.css">
<link rel="preload" href="/waiops-tech-jam/assets/js/runtime~main.1dac2d66.js" as="script">
<link rel="preload" href="/waiops-tech-jam/assets/js/main.e9afbf76.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/waiops-tech-jam/"><div class="navbar__logo"><img src="/waiops-tech-jam/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/waiops-tech-jam/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">IBM SWAT</b></a><a class="navbar__item navbar__link" href="/waiops-tech-jam/labs/general/">Labs</a><a class="navbar__item navbar__link" href="/waiops-tech-jam/blog/">Guides</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IBM/waiops-tech-jam" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/waiops-tech-jam/labs/general/">General</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/waiops-tech-jam/labs/category/watson-aiops/">Watson AIOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Watson AIOps&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/introduction/">1. Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/installation/">2. Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/connections/">3. Connect an on-premises Probe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/webhook/">4. Set up a webhook integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/create-topology/">5. Create sample topology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/configure-topology/">6. Configure topology group templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/scope-based-grouping/">7. Configure scope-based grouping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/optional-grouping/">8. Optional grouping features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/temporal-grouping/">9. Temporal Grouping &amp; Seasonality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/temporal-patterns/">10. Temporal Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/semi-automated-runbooks/">11. Semi-automated Runbook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/watson-aiops/fully-automated-runbooks/">12. Fully Automated Runbooks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/waiops-tech-jam/labs/metric-management/introduction/">Metric Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/waiops-tech-jam/labs/instana/introduction/">Instana</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/waiops-tech-jam/labs/turbonomic/introduction/">Turbonomic</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/waiops-tech-jam/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/waiops-tech-jam/labs/category/watson-aiops/"><span itemprop="name">Watson AIOps</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">5. Create sample topology</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>5. Create sample topology</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="51-overview">5.1: Overview<a class="hash-link" href="#51-overview" title="Direct link to heading">​</a></h2><p>This module focuses on the initial creation of topology within the Event
Manager. Topology adds enormous value to your deployment as it provides
visibility into your environment and brings it to-life. With topology in your
environment, you can:</p><ul><li>Visualise a seamless end-to-end view of your environment</li><li>Create and view groups of resources that logically belong together</li><li>Perform topology-based event correlation for events occurring within a group
of related resources</li></ul><p>The topology capability can ingest topology data from many different sources.
The multiple disparate pieces of topology can then be stitched together, where
it makes sense to do so, allowing you to see your end-to-end environment with
all the logical and physical connections represented.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/end-to-end-topology-e9789e9c22bebcfb9720f96ac815e7c8.png" width="1516" height="800" class="img_ev3q"></p><p>At the time of writing, the Event Manager comes with 30 different Observers. 28
of these are designed to connect to specific types of end-point, such as
ServiceNow, Dynatrace, or VMware vCenter. Two of the Observers are generic ones:
the File Observer (for ingesting file-based topology data) and the REST Observer
(for ingesting topology data programmatically via an API).</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>A full list of the topology Observers are documented here:
<a href="https://www.ibm.com/docs/en/nasm/1.1.14?topic=jobs-defining-observer-manually" target="_blank" rel="noopener noreferrer">https://www.ibm.com/docs/en/nasm/1.1.14?topic=jobs-defining-observer-manually</a></p></div></div><p>By the end of this module, you will have created two topology Observer jobs,
ingested two sets of topology data, and tied them together via a Merge Rule.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="52-create-and-copy-two-sample-topology-files-to-the-file-observer-pod">5.2: Create and copy two sample topology files to the File Observer pod<a class="hash-link" href="#52-create-and-copy-two-sample-topology-files-to-the-file-observer-pod" title="Direct link to heading">​</a></h2><p>This first step involves the following tasks:</p><ul><li>Create two sample files with topology data in them</li><li>Copy them to the File Observer pod</li></ul><p>In a real-world scenario, it is likely that you would be using a number of
off-the-shelf Observers to get your topology data from your environment. It is
also likely however that you would also leverage the File or REST Observers
either to ingest data for which an off-the-shelf Observer doesn&#x27;t exist, or to
manually create relationships between Resources in your topology for which there
is no import source. For example, you may wish to create connections between
resources to represent logical connections or dependencies that aren&#x27;t included
in the data sets. In any case, this exercise will give you the skills to use the
File Observer, which will also equip you with a little more knowledge of what&#x27;s
going on under the covers.</p><p>In this scenario, we will have one set of topology data that represents
<strong>physical infrastructure</strong>, and a second set of topology data that represents
some <strong>applications</strong> running on that physical infrastructure. An analogy to
this might be physical topology data ingested from an orchestrator, such as
OpenStack, and application data, coming from an application management tool,
such as AppDynamics.</p><p>Create a new file called infrastructure.txt with the following contents:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">infrastructure.txt</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;379177a8-0a6a-4068-817c-d6d6e870437e&quot;,&quot;matchTokens&quot;:[&quot;379177a8-0a6a-4068-817c-d6d6e870437e&quot;,&quot;router1&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;router1&quot;,&quot;entityTypes&quot;:[&quot;router&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;matchTokens&quot;:[&quot;9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;cpu01&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;cpu01&quot;,&quot;entityTypes&quot;:[&quot;cpu&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;222-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;matchTokens&quot;:[&quot;222-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;cpu02&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;cpu02&quot;,&quot;entityTypes&quot;:[&quot;cpu&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;7598a194-27a0-4d0b-9c49-cbc0070c99c9&quot;,&quot;matchTokens&quot;:[&quot;7598a194-27a0-4d0b-9c49-cbc0070c99c9&quot;,&quot;greatFireWallOfSecurity&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;greatFireWallOfSecurity&quot;,&quot;entityTypes&quot;:[&quot;firewall&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;matchTokens&quot;:[&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;computer1000&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;computer1000&quot;,&quot;entityTypes&quot;:[&quot;computer&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;5c6f968a-2006-4b43-96b5-dd53df6b0afb&quot;,&quot;matchTokens&quot;:[&quot;5c6f968a-2006-4b43-96b5-dd53df6b0afb&quot;,&quot;steve&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;steve&quot;,&quot;entityTypes&quot;:[&quot;person&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;379177a8-0a6a-4068-817c-d6d6e870437e&quot;,&quot;_edgeType&quot;:&quot;connectedTo&quot;,&quot;_fromUniqueId&quot;:&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;7598a194-27a0-4d0b-9c49-cbc0070c99c9&quot;,&quot;_edgeType&quot;:&quot;uses&quot;,&quot;_fromUniqueId&quot;:&quot;379177a8-0a6a-4068-817c-d6d6e870437e&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;_edgeType&quot;:&quot;uses&quot;,&quot;_fromUniqueId&quot;:&quot;5c6f968a-2006-4b43-96b5-dd53df6b0afb&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;_edgeType&quot;:&quot;contains&quot;,&quot;_fromUniqueId&quot;:&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;222-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;_edgeType&quot;:&quot;contains&quot;,&quot;_fromUniqueId&quot;:&quot;974d1788-1312-4151-8a62-73fa1854e807&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This JSON format is the type accepted by the File Observer, and contains
topology directives, one per line. A line that begins with a <strong>V</strong> represents a
&quot;Vertex&quot; (or Resource in UI terms). A line that begins with an <strong>E</strong> represents
an &quot;Edge&quot; (or Relationship in UI terms).</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Other format information can be found here:
<a href="https://www.ibm.com/docs/en/nasm/1.1.14?topic=manually-defining-file-observer-jobs" target="_blank" rel="noopener noreferrer">https://www.ibm.com/docs/en/nasm/1.1.14?topic=manually-defining-file-observer-jobs</a></p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Some notes about the Vertex (Resource) properties follow:</p><ul><li><p>_<!-- -->operation: A value of &quot;InsertReplace&quot; means that this Resource will be
inserted into the topology if it does not already exist, and replace the
current one if it does.</p></li><li><p>uniqueId: This must be a globally unique identifier for the Resource. The
off-the-shelf Observers will ensure uniqueness automatically. When using the
File Observer, care must be taken to ensure uniqueness, otherwise you may
inadvertently overwrite existing Resources with new ones.</p></li><li><p>matchTokens: These values (comma separated list) are used to match the
Resource against the incoming event stream, specifically against the Node and
NodeAlias fields. Where there is a match, the event will be associated with
the Resource and be visible from the topology view.</p></li><li><p>tags: Tags can be handy to group Resources together, or for searching across
resources that share a common tag. A resource can have multiple tags and
represents a kind of group membership. One way that topology-based event
correlation is across events that share a common tag. For example, you might
tag all Resources that run an Oracle database with: &quot;App:Oracle&quot;. Then you
could create a tag-based correlation group template based on that tag.</p></li><li><p>name: This is the primary identity of the Resource, and would normally be its
most recognisable and human-readable name. The name attribute is normally the
one shown in the topology viewer against a Resource.</p></li><li><p>entityTypes: This defines what type of Resource is being created - for
example: a computer or a database - and will also dictate which icon it will
use in the topology view. A resource can have multiple values in the
entityTypes field, although normally it would just have one entry.</p></li></ul></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Some notes about the Edge (Relationship) properties follow:</p><ul><li><p>_<!-- -->fromUniqueId and <!-- -->_<!-- -->toUniqueId: These parameters represent the start and end
points for the Relationship - ie. which two Resources is it connecting. The
values they have refer to the uniqueId parameters of the Vertex objects - ie.
the Resources.</p></li><li><p>_<!-- -->edgeType: This parameter specifies the type of Relationship this relates to.
For example, is it indicating a &quot;uses&quot; type of relationship, or a &quot;contains&quot;
type?</p></li></ul><p>A list of default Edge types (for the parameter <!-- -->_<!-- -->edgeType) is documented here:
<a href="https://www.ibm.com/docs/en/nasm/1.1.14?topic=reference-edge-types" target="_blank" rel="noopener noreferrer">https://www.ibm.com/docs/en/nasm/1.1.14?topic=reference-edge-types</a></p></div></div><p>Create a second new file called application.txt with the following contents:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">application.txt</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-379177a8-0a6a-4068-817c-d6d6e870437e&quot;,&quot;matchTokens&quot;:[&quot;111-379177a8-0a6a-4068-817c-d6d6e870437e&quot;,&quot;billing&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;billing&quot;,&quot;entityTypes&quot;:[&quot;application&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;matchTokens&quot;:[&quot;111-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;,&quot;webserver&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;webserver&quot;,&quot;entityTypes&quot;:[&quot;application&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;matchTokens&quot;:[&quot;111-974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;computer1000&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;computer1000&quot;,&quot;entityTypes&quot;:[&quot;computer&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;_edgeType&quot;:&quot;runsOn&quot;,&quot;_fromUniqueId&quot;:&quot;111-379177a8-0a6a-4068-817c-d6d6e870437e&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E:{&quot;_toUniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807&quot;,&quot;_edgeType&quot;:&quot;runsOn&quot;,&quot;_fromUniqueId&quot;:&quot;111-9c1f90e0-7dc4-40d8-8721-40ea2f3af453&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="53-create-two-file-observer-jobs">5.3: Create two File Observer jobs<a class="hash-link" href="#53-create-two-file-observer-jobs" title="Direct link to heading">​</a></h2><p>Log into the Event Manager UI, then navigate to: <strong>Administration → Topology
Configuration → Observer jobs → Configure</strong></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>If you can&#x27;t find <code>Topology Configuration</code> option from the UI, please ensure you
have enable the roles in
<a href="http://localhost:3000/waiops-tech-jam/labs/watson-aiops/installation/#27-locate-your-login-details-and-log-in-to-watson-for-aiops-event-manager" target="_blank" rel="noopener noreferrer">2.7 Locate your login details and log in to Watson for AIOps Event Manager</a></p></div></div><p>Click on Add a new job and then choose File → Configure to create a new File
Observer job.</p><p>Input a label to call your new job - eg. Infrastructure - and upload files that
you created in step 5.2 - ie. infrastructure.txt and click Save:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/infrajob-00b74fb30f139c893fc3a88793073a47.png" width="766" height="863" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The Provider will be automatically populated when you click Save.</p></div></div><p>Repeat the process by creating a second File Observer job for the
applications.txt file.</p><p>Each job will run the moment it is saved. After you have done this, your
Observer jobs screen should look like the following:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/observers-e4c543904db95717f0f22dd6e10deccc.png" width="509" height="551" class="img_ev3q"></p><p>You can verify your jobs ran successfully by first seeing the green Ready light
on your job (above), and second by searching the topology for your newly added
resources.</p><p>Choose Resource management from the left menu and search for WAIOpsDemo, which
is the tag that all of your Resources in both your files were tagged with. You
should see nine results come back under the Resources tab:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/resources-28d3e922eabee2d0821f1f3a194d1442.png" width="1113" height="698" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>There are two resources in the list called &quot;computer1000&quot;. One is from the
topology segment ingested from the infrastructure.txt file and the other one is
from the topology segment ingested from the application.txt file. We will be
merging these two Resources together shortly, via a Merge Rule.</p></div></div><p>Click on <strong>router1</strong> and it will open the topology view. Increase the number of
hops to 2 and click <strong>Render</strong> and you should see something like the following:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/router-3a1857c3b8368e060b74c7067e9edc89.png" width="1125" height="1006" class="img_ev3q"></p><p>You can click Back on your browser window and click on one of the other
Resources ingested via the Applications job - eg. billing. You will see a
representation of the topology segment created by ingesting that file.</p><p>You are now ready to perform the final step, that being to create a Merge Rule
to tie the two topology segments together via the common resource.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="54-create-a-merge-rule-to-tie-the-topology-together">5.4: Create a Merge Rule to tie the topology together<a class="hash-link" href="#54-create-a-merge-rule-to-tie-the-topology-together" title="Direct link to heading">​</a></h2><p>This final step is where the topology data coming from the application topology
source is mapped onto the topology data coming from the infrastructure
orchestration topology source. In our hypothetical scenario, we know we have
Resources of type &quot;computer&quot; in both sets of topology, and we know that they
relate to the same servers. Corresponding instances across the two data sets are
also labelled consistently and correctly, meaning that identifying the same
Resource across the two data sets is possible.</p><p>In our case, we have a Resource called &quot;computer1000&quot; represented in our
infrastructure topology data as well as in our application data. Our goal is to
merge the two sets of topology together so that we can both visualise what
applications are running on our servers, and more importantly, correlate
hardware alarms with application alarms, something that is not possible
otherwise. Note that the rule is created in a generic way so that if there were
any other computers included in our two data sets, they too would be merged
together automatically, so long as they met the criteria set out in the rule.</p><p>Navigate to <strong>Administration → Topology Configuration -&gt; Rules</strong> and click on
New to create a new Merge Rule.</p><p>Use the following to create your new Merge Rule:</p><ul><li><p><strong>Rule name:</strong> Give your rule a name - eg: <strong>InfrastructureApplications</strong></p></li><li><p>Set <strong>Status</strong> to <strong>Enabled</strong></p></li><li><p><strong>Tokens</strong>: The tokens refer to the parameters in your Resources that will be
compared. In our case, the parameter that stores the computer name is called
&quot;name&quot; in both sets of data, so we just need one token entry here called
<strong>name</strong> therefore. If the parameters were named different things, you could
simply add both of the parameter names here.</p></li><li><p>Expand the <strong>Conditions</strong> drop-down.</p></li><li><p><strong>Observers</strong>: Add <strong>File</strong> to the list of Observers this rule should apply
to. Since both job types are of type File, this is all that is needed in this
case. Normally you would add all the Observer types that apply to your
mapping. If this section was left empty, it would try to apply this rule to
topology data coming from all Observer types.</p></li><li><p><strong>Providers</strong>: Add both of your jobs to the list - ie.
<strong>FILE.OBSERVER:infrastructure.txt</strong> and <strong>FILE.OBSERVER:application.txt</strong>.
This specifies that this rule should only apply to these particular jobs. If
this section was left empty, it would try to apply this rule to topology data
coming from all jobs specified in the Observers list above.</p></li><li><p><strong>Resource types</strong>: Add the Resource types that this rule should apply to -
ie. <strong>computer</strong>. If this section was left empty, it would try to apply this
rule to all Resource types in the Observers list and Providers list above.</p></li><li><p>The <strong>Token filter mode</strong> and <strong>Token</strong> filters sections allow you to refine
your rule mapping even further, by allowing you to specify regular expressions
to either include or exclude the set of Resources from the rule. In this case,
we will leave both of these sections blank.</p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>It is good practice to specify an appropriate set of Conditions for your rules,
to ensure they only get applied to things they&#x27;re meant to.</p></div></div><p>When finished creating your new Merge Rule, click Save and return to the
Observer jobs page: Administration → Topology Configuration → Observer jobs.</p><p>Click on the Run (Play button icon) to run your two jobs again. The data will be
reprocessed in light of the new rule information, and any Resources that match
the rule will have the merge operation made against them.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The merge will not happen unless the affected jobs are re-run.</p></div></div><p>To verify the merge was successful, navigate back to Resource management from
the left menu, but this time search for <strong>computer1000</strong>. This time you will see
just one instance in the list of Resources called computer1000 whereas before
you would have seen two. Click on <strong>computer1000</strong>, change the hop view to <strong>2</strong>
and click <strong>Render</strong>. You should see something like the following, showing the
combined topology segments:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/computer-7213a2021da528d0a2cf560faa20ee8e.png" width="1125" height="1006" class="img_ev3q"></p><p>The Resource computer1000 is only shown once in the topology, but remains
connected to all the resources it was connected to in both sets of topology
data, prior to the merge. The Merge Rule has effectively merged the two sets of
topology together, by merging the common Resources, according to the rule that
we defined.</p><p>You have now completed this module and are ready for next module &quot;Configure
topology templates&quot;.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><a href="https://community.ibm.com/community/user/aiops/blogs/zane-bray1/2022/04/25/getting-started-with-watson-aiops-event-manager-47" target="_blank" rel="noopener noreferrer">Reference Blog</a></p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/IBM/waiops-tech-jam/labs/watson-aiops/5-create-topology/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/waiops-tech-jam/labs/watson-aiops/webhook/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">4. Set up a webhook integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/waiops-tech-jam/labs/watson-aiops/configure-topology/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">6. Configure topology group templates</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#51-overview" class="table-of-contents__link toc-highlight">5.1: Overview</a></li><li><a href="#52-create-and-copy-two-sample-topology-files-to-the-file-observer-pod" class="table-of-contents__link toc-highlight">5.2: Create and copy two sample topology files to the File Observer pod</a></li><li><a href="#53-create-two-file-observer-jobs" class="table-of-contents__link toc-highlight">5.3: Create two File Observer jobs</a></li><li><a href="#54-create-a-merge-rule-to-tie-the-topology-together" class="table-of-contents__link toc-highlight">5.4: Create a Merge Rule to tie the topology together</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops" target="_blank" rel="noopener noreferrer" class="footer__link-item">CP4WAIOps<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibm.com/docs/en/noi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibm.com/docs/en/obi/current" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instana<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.turbonomic.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Turbonomic<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/au-en" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/waiops-tech-jam/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/IBM/waiops-tech-jam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/waiops-tech-jam/assets/js/runtime~main.1dac2d66.js"></script>
<script src="/waiops-tech-jam/assets/js/main.e9afbf76.js"></script>
</body>
</html>