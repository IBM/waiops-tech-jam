<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cloud-pak-aiops/topology-lab/topology-templates/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">5. Topology Group Templates | IBM AIOps Automation SWAT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-templates/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="5. Topology Group Templates | IBM AIOps Automation SWAT"><meta data-rh="true" name="description" content="Create and configure topology group templates"><meta data-rh="true" property="og:description" content="Create and configure topology group templates"><link data-rh="true" rel="icon" href="/waiops-tech-jam/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://github.com/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-templates/"><link data-rh="true" rel="alternate" href="https://github.com/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-templates/" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-templates/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/waiops-tech-jam/blog/rss.xml" title="IBM AIOps Automation SWAT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/waiops-tech-jam/blog/atom.xml" title="IBM AIOps Automation SWAT Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WTTHT6SEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WTTHT6SEH",{anonymize_ip:!0})</script><link rel="stylesheet" href="/waiops-tech-jam/assets/css/styles.f87e0e6c.css">
<link rel="preload" href="/waiops-tech-jam/assets/js/runtime~main.bf944562.js" as="script">
<link rel="preload" href="/waiops-tech-jam/assets/js/main.df3d1d6f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/waiops-tech-jam/"><div class="navbar__logo"><img src="/waiops-tech-jam/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/waiops-tech-jam/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">IBM SWAT</b></a><a class="navbar__item navbar__link" href="/waiops-tech-jam/labs/jam-in-a-box/">Labs</a><a class="navbar__item navbar__link" href="/waiops-tech-jam/blog/">Guides</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IBM/waiops-tech-jam" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/waiops-tech-jam/labs/jam-in-a-box/">Jam-in-a-Box</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waiops-tech-jam/labs/practitioner-basics/">Practitioner Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Practitioner Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/waiops-tech-jam/labs/instana/introduction/">Instana Labs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/waiops-tech-jam/labs/turbonomic/introduction/">Turbonomic Labs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/waiops-tech-jam/labs/cloud-pak-aiops/introduction/">Cloud Pak for AIOps Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/introduction/">Labs Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/install-lab/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/introduction/">Topology</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/introduction/">1. Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/lab-environment/">2. Lab Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/creating-topology/">3. Topology in IT Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-rules/">4. Topology Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-templates/">5. Topology Group Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-applications/">6. Topology Applications and Business Criticality</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/alert-lab/introduction/">Alert Correlation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/waiops-tech-jam/labs/cloud-pak-aiops/migration-from-netcool/introduction/">Migration from Netcool</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/waiops-tech-jam/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cloud Pak for AIOps Labs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Topology</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">5. Topology Group Templates</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>5. Topology Group Templates</h1></header><p>This chapter focuses on topology group templates, the different types, and how
groups of topology can be used for topology-based event correlation. We will use
the topology we created in the previous chapters.</p><p>By the end of this chapter, you will understand the four types of topology
templates, and have created an example of each type. You will also understand
what a &quot;favorite&quot; is and will have added some items to your topology dashboard.</p><p>Topology group templates are used to create groups of resources. Resource groups
make it easier to find and visualize collections of related resources, as well
as enabling event correlation over resources in the same group. There are four
types of topology group template:</p><ul><li><strong>Exact</strong>: defines a single group of specific resources</li><li><strong>Tag-based</strong>: defines a single group of resources that share a common tags</li><li><strong>Dynamic</strong>: defines one or more groups of resources that match a prescribed
specification</li><li><strong>Token</strong>: defines a set of rules which use the properties of your resources
to create one or more groups which contain those resources</li></ul><p>Note that <strong>Exact</strong> and <strong>Tag-based</strong> templates creates a <strong>single</strong> resource
group while <strong>Dynamic</strong> and <strong>Token</strong> templates could create <strong>multiple</strong>
resource groups.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="51-exact-group-template">5.1: Exact Group Template<a href="#51-exact-group-template" class="hash-link" aria-label="Direct link to 5.1: Exact Group Template" title="Direct link to 5.1: Exact Group Template">​</a></h2><p>An exact template builds a single group of resources centered on a specified
seed resource. The membership of the resulting resource group includes the seed
resource and those matching the specified relationship and/or resource type
criteria. Resource group membership is dynamically maintained for the resulting
resource group provided the specified seed resource type remains unchanged.</p><p>For example, you can use an exact template to create a group of resources only
for a specific Jenkins build pipeline and any new builds or physical server and
its connected network switch.</p><p>The exact topology group template is useful for when you have a specific
collection of resources that are unique in your environment that may be of
particular importance. Perhaps you want to be able to find this group of
resources quickly and easily.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exercise">Exercise<a href="#exercise" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise">​</a></h4><p>In this exercise, we will create a template for a specific group of resources
for our router <strong>router1</strong> and its connected resources up to one hop connection.</p><p>From the burger menu in the top-left, navigate to: <strong>Operate → Resource
management</strong>. In the <strong>Resource management</strong> page, click on the <strong>Resource group
templates</strong> icon in the top-right.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/group-templates-591fcd1ef2be8459b4ba8949788769fb.png" width="1127" height="404" class="img_ev3q"></p><p>In the <strong>Resource group templates</strong> page, click on <strong>Create a new template</strong>,
select <strong>Exact template</strong> and click <strong>Start</strong>.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/new-exact-ae918fcab9f7308d9c113d7b8eec4003.png" width="1127" height="683" class="img_ev3q"></p><p>You will be presented with a <strong>Template builder</strong> page. From here, use the
following steps to configure a new exact template:</p><ul><li>Give the template a name such as <strong>router1</strong></li><li>Choose the <strong>Resource group type</strong> as <strong>network</strong></li><li>Add a <strong>Resource group naming pattern prefix</strong> for the resulting group&#x27;s name:
<strong>ROUTER-</strong></li><li>Enable <strong>Correlate event groups on topologies from this template</strong> to
correlate events across these resources</li><li>On the right side, in the search box: <strong>Search for a resource to get started</strong>
type <strong>router1</strong> and hit Enter<ul><li>Choose <strong>router1</strong> from the list of resources</li><li>Change the view to 1 hop and click <strong>Render</strong></li></ul></li></ul><p><img loading="lazy" src="/waiops-tech-jam/assets/images/1-hop-56e996211f377a25cb0e88d21e1dda74.png" width="1017" height="810" class="img_ev3q"></p><ul><li>Click <strong>Save template &amp; generate resource group</strong></li></ul><p>You should have something like the following:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/exact-bc5bf4c5a1196f8f72c61bc76ffa4749.png" width="1653" height="904" class="img_ev3q"></p><p>Click on the <strong>Resource group templates</strong> link on the top. You will see your new
template:</p><p><img loading="lazy" src="data:image/png;base64,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" width="1526" height="58" class="img_ev3q"></p><p>Click on the <strong>Resource management</strong> link on the top, select the <strong>Resource
groups</strong> tab and search for <strong>ROUTER-</strong> , you will see the following under the
<strong>Resource groups</strong> tab:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/search-a397dc51238c5b4a07d430cd26e7bce8.png" width="1104" height="430" class="img_ev3q"></p><p>Click on the name <strong>ROUTER-router1</strong>, you will be able to view the topology
group, which shows 3 resources but actually consists of 4 resources because
computer1000 actually represents two resources as they have been merged by the
Merge Rule defined previously.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/router1-e90774a196528fff7799bb2d8c484e90.png" width="1673" height="674" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you have enabled event correlation across this group of resources and receive
events related to any of these resources, these events will be correlated
automatically. This is called <strong>topological event correlation</strong> and is one of
the correlation modes in addition to <strong>temporal</strong> and <strong>scope-based</strong>
correlation.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="52-tag-group-template">5.2: Tag Group Template<a href="#52-tag-group-template" class="hash-link" aria-label="Direct link to 5.2: Tag Group Template" title="Direct link to 5.2: Tag Group Template">​</a></h2><p>A tag based template builds a single but dynamic resource group containing
resources that have the specified tag(s). Resource group membership is
dynamically maintained to reflect changes in the topology for resources that
gain or lose the specified tags.</p><p>For example, you can use a tag based template to create a dynamic group of your
resources tagged with both &#x27;red&#x27; and &#x27;green&#x27;. Then, when you add new resources
with both of those tags, the resource group will be updated to include them.</p><p>Note that resources don&#x27;t have to be connected; they simply need to have the
common tag in order to be grouped. Tags can be added to resources via the
topology <strong>tagsRule</strong> as discussed in the previous chapter, or by including the
tags parameter if creating topology via the File or REST Observers.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-1">Exercise<a href="#exercise-1" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise">​</a></h4><p>In this exercise, we will create a template for group of resources based on
their common tag.</p><p>In the <strong>Resource management</strong> page, click on the <strong>Resource group templates</strong>
icon in the top-right. In the <strong>Resource group templates</strong> page, click on
<strong>Create a new template</strong>, select <strong>Tag based template</strong> and click <strong>Start</strong>.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/tag-select-272e08e21b9859184c05e330b2549680.png" width="1104" height="664" class="img_ev3q"></p><p>You will be presented with a <strong>Template builder</strong> page. From here, use the
following steps to configure an tag based template:</p><ul><li>Give the template a name (e.g. tag template)</li><li>Choose the <strong>Resource group type</strong> as <strong>compute</strong></li><li>Add a <strong>Resource group name</strong> for the name of the group of resources:
<strong>tag-group</strong></li><li>Enable <strong>Correlate event groups on topologies from this template</strong> to
correlate events across these resources</li><li>Type <strong>WAIOpsDemo</strong> in the search box: <strong>Search for a tag to get started</strong> and
hit Enter</li><li>Check the <strong>WAIOpsDemo</strong> checkbox from the list of available tags and then
click the <strong>Resources</strong> tab to see the list of matching resources</li></ul><p>You should have something like the following:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/tagbased-333f98b32b209271fd4212ad68f545ea.png" width="1104" height="777" class="img_ev3q"></p><ul><li>Click <strong>Save template &amp; generate resource group</strong></li></ul><p>Click on the <strong>Resource group templates</strong> link on the top, filter by <strong>tag
template</strong> and you will see your saved template:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/tag-template-b13a9985ea8927c3d76a8410b105b604.png" width="1104" height="334" class="img_ev3q"></p><p>Click on the <strong>Resource management</strong> link on the top, select the <strong>Resource
groups</strong> tab and search for <strong>tag-group</strong>, you will find the new group created
by the tag template:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/tag-group-ac0e90fb791f576984bb3368815decc9.png" width="1104" height="371" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you do not see the resources in the group, you need to re-run the Observer
jobs.</p></div></div><p>If you click on the name <strong>tag-group</strong>, you will see the resources in the
topology group:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/tagrouter-bf9f7c0c2cb997d3a1b61e63b6cb718c.png" width="1104" height="726" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="53-dynamic-group-template">5.3: Dynamic Group Template<a href="#53-dynamic-group-template" class="hash-link" aria-label="Direct link to 5.3: Dynamic Group Template" title="Direct link to 5.3: Dynamic Group Template">​</a></h2><p>A dynamic group template builds multiple groups of resources that are similar to
the specified seed resource and relationship and/or resource type criteria.
Resource group creation and membership is dynamically maintained based on the
available topology data and how it changes.</p><p>For example, you can use a dynamic group template to create dynamic groups of
resources, one for each of your virtual machines and the Kubernetes services
they&#x27;re running. Resource groups are then added, removed and updated as you add
or remove virtual machines and/or services running on them.</p><p>The Dynamic group template is probably the most versatile of all the topology
group templates. Using an example of a set of resources you want to group, the
dynamic group template will automatically find other groups of resources that
follow the same <em>recipe</em> as the example you give. As you expose the resources
and relationships in the view, the template builder records the steps, and then
uses this <em>recipe</em> to find other similar groups of resources.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-2">Exercise<a href="#exercise-2" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise">​</a></h4><p>In this exercise, we will create a dynamic template to create groups of servers
that host our applications. We will create a second server <strong>computer1001</strong> that
hosts the <strong>notification</strong> and <strong>email</strong> applications for the purposes of this
exercise.</p><p>Create a new file called <strong>application2.txt</strong> by running the following command
in the <strong>Terminal</strong> window to open the text editor , copy the topology data
listed below (use the copy helper icon (top-right) for one-click copy), paste it
into the text editor, click on the <strong>Save</strong> button in the text editor and close
the editor window (click on the X).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gedit application2.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">application2.txt</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-379177a8-0a6a-4068-817c-d6d6e870437e-app2&quot;,&quot;matchTokens&quot;:[&quot;111-379177a8-0a6a-4068-817c-d6d6e870437e-app2&quot;,&quot;notifications&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;notifications&quot;,&quot;entityTypes&quot;:[&quot;application&quot;],&quot;_references&quot;:[{&quot;_toUniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807-app2&quot;,&quot;_edgeType&quot;:&quot;runsOn&quot;}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-9c1f90e0-7dc4-40d8-8721-40ea2f3af453-app2&quot;,&quot;matchTokens&quot;:[&quot;111-9c1f90e0-7dc4-40d8-8721-40ea2f3af453-app2&quot;,&quot;email&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;email&quot;,&quot;entityTypes&quot;:[&quot;application&quot;],&quot;_references&quot;:[{&quot;_toUniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807-app2&quot;,&quot;_edgeType&quot;:&quot;runsOn&quot;}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">V:{&quot;_operation&quot;:&quot;InsertReplace&quot;,&quot;uniqueId&quot;:&quot;111-974d1788-1312-4151-8a62-73fa1854e807-app2&quot;,&quot;matchTokens&quot;:[&quot;111-974d1788-1312-4151-8a62-73fa1854e807-app2&quot;,&quot;computer1001&quot;],&quot;tags&quot;:[&quot;WAIOpsDemo&quot;],&quot;name&quot;:&quot;computer1001&quot;,&quot;entityTypes&quot;:[&quot;computer&quot;],&quot;_references&quot;:[]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use the steps described in the previous chapter to import this file
(<strong>application2.txt</strong>) using a new File Observer job to ingest the topology
data.</p><p>After running this last Observer job, you should see a total of 11 resources
which 2 have been merged, as shown below:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/11-resources-f04ae677db4d034a2c576b206919e994.png" width="2306" height="1278" class="img_ev3q"></p><p>Now lets create the dynamic group template. In the <strong>Resource management</strong> page,
click on the <strong>Resource group templates</strong> icon in the top-right. In the
<strong>Resource group templates</strong> page, click on <strong>Create a new template</strong>, select
<strong>Dynamic template</strong> and click <strong>Start</strong>.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/dynamic-option-948bd73e6438489a339d40189bdced7f.png" width="1104" height="657" class="img_ev3q"></p><p>You will be presented with a <strong>Template builder</strong> page. From here, use the
following steps to configure a dynamic template:</p><ul><li>Give the template a <strong>name</strong> e.g. AppServers</li><li>Choose the <strong>Resource group type: compute</strong></li><li>Add a <strong>Resource group naming pattern</strong> prefix for the resulting group&#x27;s name:
<strong>APPSERVER-</strong></li><li>Enable <strong>Correlate event groups on topologies from this template</strong> to
correlate events across these resources</li><li>In the search box <strong>Search for a resource to get started</strong>, type
<strong>computer1000</strong> and hit Enter</li><li>Choose <strong>computer1000</strong> from the list of available resources</li><li>Right-click on computer1000 and select <strong>Follow Relationship → runsOn</strong> which
will expose the applications <strong>webserver</strong> and <strong>billing</strong></li></ul><p><img loading="lazy" src="/waiops-tech-jam/assets/images/runs-on-425a8b7112b3093b69a2b65508d39aa3.png" width="1318" height="781" class="img_ev3q"></p><p>You should have something like the following:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/dynamic-7fd3d2d6795b9012b224c2b6715d2633.png" width="1318" height="781" class="img_ev3q"></p><p>Continue with the following steps:</p><ul><li>Scroll down on the left side and note that the template has been recording
your actions to build a <em>recipe</em> for the template</li><li>You can optionally add tag to the list of starting seeds if you want to
restrict the items matched by this template to just those tagged with specific
tags</li></ul><p><img loading="lazy" src="/waiops-tech-jam/assets/images/dynamic_def-2f0650a74e42be7d94d7b4fad015a1e3.png" width="577" height="558" class="img_ev3q"></p><ul><li>Continue to scroll down and click <strong>Save template &amp; generate resource group</strong></li></ul><p>In the <strong>Preview resource groups</strong> section, you will see that the dynamic
template builder has found two groups of resources that match the <em>recipe</em>. The
first group resources were in the original application resources data
(<strong>application.txt</strong>). The second group resources were added by the Observer job
we just run (<strong>application2.txt</strong>). In summary, we defined a dynamic template
that creates groups for every compute resource and will include any <em>one hop</em>
resource that has the attribute <em>runsOn</em>.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/dynamic_result-af517c86c59119bdb939553fd7041cbd.png" width="1652" height="900" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="54-token-group-template">5.4: Token Group Template<a href="#54-token-group-template" class="hash-link" aria-label="Direct link to 5.4: Token Group Template" title="Direct link to 5.4: Token Group Template">​</a></h2><p>A token template builds multiple groups of resources using one or more rules.
Any resource that matches one of the rules will be added to a group whose name
is based on the rule&#x27;s token. Resource group membership is dynamically
maintained to reflect changes in the topology for resources that match one of
the template&#x27;s rules.</p><p>For example, you could create a token template containing a rule with a token of
&#x27;applicationId&#x27;. When you next load data, if you have three resources which each
have an applicationId property value of &#x27;MyApp&#x27;, then a group called &#x27;MyApp&#x27;
will be created, and those three resources will be added to it.</p><p>As token group templates apply rules only to resources that are received via
observer jobs, the only way to actually see the new resource groups created by
this template is by running the related observer jobs.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exercise-3">Exercise<a href="#exercise-3" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise">​</a></h4><p>We will create a Token group template to group cpu resources based on the
manufacturer. In other words, the template will create one group of all Intel
cpu resources and another group of all AMD cpu resources.</p><p>In the <strong>Resource management</strong> page, click on the <strong>Resource group templates</strong>
icon in the top-right. In the <strong>Resource group templates</strong> page, click on
<strong>Create a new template</strong>, select <strong>Token template</strong> and click <strong>Start</strong>.</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/token-start-5aeca96d9dcd1f237180eda41aad8fd3.png" width="1317" height="681" class="img_ev3q"></p><p>You will be presented with a <strong>Template builder</strong> page. From here, use the
following steps to configure a token template:</p><ul><li>Give the template a <strong>name</strong> e.g. token template</li><li>Choose the <strong>Resource group type: compute</strong></li><li>Enable <strong>Correlate event groups on topologies from this template</strong> to
correlate events across these resources</li><li>On the right side, set the Rule name as <strong>CPU rule</strong></li><li>For <strong>Tokens</strong> type <strong>${name}</strong> and click on <strong>Add</strong>. This is the value of the
name property which in our resource data will be <em>Intel</em> or <em>AMD</em>.</li><li>Expand the <strong>Conditions</strong> section<ul><li>For <strong>Observers</strong> select <strong>File</strong> and click on <strong>Add</strong></li><li>Skip <strong>Providers</strong> as this will apply to all File Observer providers</li><li>For <strong>Resource types</strong> select <strong>cpu</strong> and click on <strong>Add</strong>. This is
important as we only want to group <strong>cpu</strong> type resources and nothing else.</li><li>Skip the <strong>Token filter mode</strong> as we don&#x27;t need additional logic to filter.</li></ul></li></ul><p>Your rule should look like this:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/before-rule-91a98855624e1967a730f79081e51dec.png" width="709" height="693" class="img_ev3q"></p><ul><li><p>Click on <strong>Add rule</strong>.</p></li><li><p>Now confirm that you see the new rule under <strong>Rule definitions</strong> as shown
below</p></li></ul><p><img loading="lazy" src="/waiops-tech-jam/assets/images/new-rule-863c7de1b401c91b1debaa7bfd9115ef.png" width="1309" height="779" class="img_ev3q"></p><ul><li>Finally click on <strong>Save template</strong>.</li></ul><p>As this template will create new groups based on the cpu name and these
resources are in the <strong>infrastructure</strong> resource data file, please rerun the
<strong>infrastructure</strong> observer job to actually apply the rules in this group
template.</p><p>Now in the <strong>Resource management</strong> page, click on the <strong>Resource groups</strong> tab
and you should see two new resource groups created, as shown below:</p><p><img loading="lazy" src="/waiops-tech-jam/assets/images/token-groups-d5122804d71d7e0900ce3ebb476dc81d.png" width="1309" height="485" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/IBM/waiops-tech-jam/tree/main/labs/cloud-pak-aiops/topology-lab/5-topology-templates/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-rules/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">4. Topology Rules</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/waiops-tech-jam/labs/cloud-pak-aiops/topology-lab/topology-applications/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">6. Topology Applications and Business Criticality</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#51-exact-group-template" class="table-of-contents__link toc-highlight">5.1: Exact Group Template</a></li><li><a href="#52-tag-group-template" class="table-of-contents__link toc-highlight">5.2: Tag Group Template</a></li><li><a href="#53-dynamic-group-template" class="table-of-contents__link toc-highlight">5.3: Dynamic Group Template</a></li><li><a href="#54-token-group-template" class="table-of-contents__link toc-highlight">5.4: Token Group Template</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops" target="_blank" rel="noopener noreferrer" class="footer__link-item">CP4AIOps<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibm.com/docs/en/noi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NOI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibm.com/docs/en/obi/current" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instana<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.turbonomic.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Turbonomic<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/au-en" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/waiops-tech-jam/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/IBM/waiops-tech-jam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/waiops-tech-jam/assets/js/runtime~main.bf944562.js"></script>
<script src="/waiops-tech-jam/assets/js/main.df3d1d6f.js"></script>
</body>
</html>